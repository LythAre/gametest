{"version":3,"file":"index.cjs","sources":["../../sdk/dist/index.js","../src/createHOC.tsx","../src/SDKProvider/SDKContext.ts","../src/createHook.ts","../src/hooks-hocs/back-button.ts","../src/hooks-hocs/biometry-manager.ts","../src/hooks-hocs/closing-behavior.ts","../src/hooks-hocs/cloud-storage.ts","../src/hooks-hocs/haptic-feedback.ts","../src/hooks-hocs/init-data.ts","../src/hooks-hocs/invoice.ts","../src/hooks-hocs/main-button.ts","../src/hooks-hocs/mini-app.ts","../src/hooks-hocs/popup.ts","../src/hooks-hocs/qr-scanner.ts","../src/hooks-hocs/settings-button.ts","../src/hooks-hocs/theme-params.ts","../src/hooks-hocs/utils.ts","../src/hooks-hocs/viewport.ts","../src/SDKProvider/SDKProvider.tsx"],"sourcesContent":["var Lt = Object.defineProperty;\nvar Bt = (e, t, s) => t in e ? Lt(e, t, { enumerable: !0, configurable: !0, writable: !0, value: s }) : e[t] = s;\nvar c = (e, t, s) => (Bt(e, typeof t != \"symbol\" ? t + \"\" : t, s), s);\nfunction ct(e, t) {\n  let s;\n  const n = () => {\n    s !== void 0 && t && t(s), s = void 0;\n  };\n  return [() => s === void 0 ? s = e(n) : s, n];\n}\nfunction ht(e) {\n  const t = L(), { count: s } = t;\n  t.unsubscribe(e), s && !t.count && ce();\n}\nfunction Ot(e) {\n  return L().subscribe(e), () => ht(e);\n}\nclass Ut {\n  constructor(t, s = {}) {\n    this.scope = t, this.options = s;\n  }\n  /**\n   * Prints message into a console in case, logger is currently enabled.\n   * @param level - log level.\n   * @param args - arguments.\n   */\n  print(t, ...s) {\n    const n = /* @__PURE__ */ new Date(), r = Intl.DateTimeFormat(\"en-GB\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      fractionalSecondDigits: 3,\n      timeZone: \"UTC\"\n    }).format(n), { textColor: i, bgColor: o } = this.options, a = \"font-weight: bold;padding: 0 5px;border-radius:5px\";\n    console[t](\n      `%c${r}%c / %c${this.scope}`,\n      `${a};background-color: lightblue;color:black`,\n      \"\",\n      `${a};${i ? `color:${i};` : \"\"}${o ? `background-color:${o}` : \"\"}`,\n      ...s\n    );\n  }\n  /**\n   * Prints error message into a console.\n   * @param args\n   */\n  error(...t) {\n    this.print(\"error\", ...t);\n  }\n  /**\n   * Prints log message into a console.\n   * @param args\n   */\n  log(...t) {\n    this.print(\"log\", ...t);\n  }\n}\nconst D = new Ut(\"SDK\", {\n  bgColor: \"forestgreen\",\n  textColor: \"white\"\n});\nlet j = !1;\nconst nt = ({ event: e, args: [t] }) => {\n  D.log(\"Event received:\", t === void 0 ? { name: e } : { name: e, data: t });\n};\nfunction es(e) {\n  j !== e && (j = e, e ? Ot(nt) : ht(nt));\n}\nfunction Wt(...e) {\n  j && D.log(...e);\n}\nclass V {\n  constructor() {\n    c(this, \"listeners\", /* @__PURE__ */ new Map());\n    c(this, \"listenersCount\", 0);\n    c(this, \"subscribeListeners\", []);\n  }\n  /**\n   * Removes all event listeners.\n   */\n  clear() {\n    this.listeners.clear(), this.subscribeListeners = [];\n  }\n  /**\n   * Returns count of bound listeners.\n   */\n  get count() {\n    return this.listenersCount + this.subscribeListeners.length;\n  }\n  emit(t, ...s) {\n    this.subscribeListeners.forEach((r) => r({\n      event: t,\n      args: s\n    })), (this.listeners.get(t) || []).forEach(([r, i]) => {\n      r(...s), i && this.off(t, r);\n    });\n  }\n  /**\n   * Adds new event listener.\n   * @param event - event name.\n   * @param listener - event listener.\n   * @param once - should listener be called only once.\n   * @returns Function to remove bound event listener.\n   */\n  on(t, s, n) {\n    let r = this.listeners.get(t);\n    return r || this.listeners.set(t, r = []), r.push([s, n]), this.listenersCount += 1, () => this.off(t, s);\n  }\n  /**\n   * Removes event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param event - event name.\n   * @param listener - event listener.\n   */\n  off(t, s) {\n    const n = this.listeners.get(t) || [];\n    for (let r = 0; r < n.length; r += 1)\n      if (s === n[r][0]) {\n        n.splice(r, 1), this.listenersCount -= 1;\n        return;\n      }\n  }\n  /**\n   * Adds a new event listener for all events.\n   * @param listener - event listener.\n   * @returns Function to remove event listener.\n   */\n  subscribe(t) {\n    return this.subscribeListeners.push(t), () => this.unsubscribe(t);\n  }\n  /**\n   * Removes global event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param listener - event listener.\n   */\n  unsubscribe(t) {\n    for (let s = 0; s < this.subscribeListeners.length; s += 1)\n      if (this.subscribeListeners[s] === t) {\n        this.subscribeListeners.splice(s, 1);\n        return;\n      }\n  }\n}\nfunction z(e, t, s) {\n  return window.addEventListener(e, t, s), () => window.removeEventListener(e, t, s);\n}\nclass $ extends Error {\n  constructor(t, s, n) {\n    super(s, { cause: n }), this.type = t, Object.setPrototypeOf(this, $.prototype);\n  }\n}\nfunction u(e, t, s) {\n  return new $(e, t, s);\n}\nconst Ht = \"ERR_METHOD_UNSUPPORTED\", Gt = \"ERR_METHOD_PARAMETER_UNSUPPORTED\", jt = \"ERR_UNKNOWN_ENV\", zt = \"ERR_INVOKE_CUSTOM_METHOD_RESPONSE\", Ft = \"ERR_TIMED_OUT\", Jt = \"ERR_UNEXPECTED_TYPE\", pt = \"ERR_PARSE\", Qt = \"ERR_NAVIGATION_LIST_EMPTY\", Yt = \"ERR_NAVIGATION_CURSOR_INVALID\", ss = \"ERR_NAVIGATION_ITEM_INVALID\", J = \"ERR_SSR_INIT\", Zt = \"ERR_SSR_POST_EVENT\", Xt = \"ERR_INVALID_PATH_BASE\";\nfunction P() {\n  return u(Jt, \"Value has unexpected type\");\n}\nclass M {\n  constructor(t, s, n) {\n    this.parser = t, this.isOptional = s, this.type = n;\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(t) {\n    if (!(this.isOptional && t === void 0))\n      try {\n        return this.parser(t);\n      } catch (s) {\n        throw u(\n          pt,\n          `Unable to parse value${this.type ? ` as ${this.type}` : \"\"}`,\n          s\n        );\n      }\n  }\n  optional() {\n    return this.isOptional = !0, this;\n  }\n}\nfunction S(e, t) {\n  return () => new M(e, !1, t);\n}\nconst w = S((e) => {\n  if (typeof e == \"boolean\")\n    return e;\n  const t = String(e);\n  if (t === \"1\" || t === \"true\")\n    return !0;\n  if (t === \"0\" || t === \"false\")\n    return !1;\n  throw P();\n}, \"boolean\");\nfunction ut(e, t) {\n  const s = {};\n  for (const n in e) {\n    const r = e[n];\n    if (!r)\n      continue;\n    let i, o;\n    if (typeof r == \"function\" || \"parse\" in r)\n      i = n, o = typeof r == \"function\" ? r : r.parse.bind(r);\n    else {\n      const { type: a } = r;\n      i = r.from || n, o = typeof a == \"function\" ? a : a.parse.bind(a);\n    }\n    try {\n      const a = o(t(i));\n      a !== void 0 && (s[n] = a);\n    } catch (a) {\n      throw u(pt, `Unable to parse field \"${n}\"`, a);\n    }\n  }\n  return s;\n}\nfunction Q(e) {\n  let t = e;\n  if (typeof t == \"string\" && (t = JSON.parse(t)), typeof t != \"object\" || t === null || Array.isArray(t))\n    throw P();\n  return t;\n}\nfunction _(e, t) {\n  return new M((s) => {\n    const n = Q(s);\n    return ut(e, (r) => n[r]);\n  }, !1, t);\n}\nconst y = S((e) => {\n  if (typeof e == \"number\")\n    return e;\n  if (typeof e == \"string\") {\n    const t = Number(e);\n    if (!Number.isNaN(t))\n      return t;\n  }\n  throw P();\n}, \"number\");\nfunction Y(e) {\n  return /^#[\\da-f]{6}$/i.test(e);\n}\nfunction Kt(e) {\n  return /^#[\\da-f]{3}$/i.test(e);\n}\nfunction lt(e) {\n  const t = e.replace(/\\s/g, \"\").toLowerCase();\n  if (Y(t))\n    return t;\n  if (Kt(t)) {\n    let n = \"#\";\n    for (let r = 0; r < 3; r += 1)\n      n += t[1 + r].repeat(2);\n    return n;\n  }\n  const s = t.match(/^rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/) || t.match(/^rgba\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),\\d{1,3}\\)$/);\n  if (!s)\n    throw new Error(`Value \"${e}\" does not satisfy any of known RGB formats.`);\n  return s.slice(1).reduce((n, r) => {\n    const i = parseInt(r, 10).toString(16);\n    return n + (i.length === 1 ? \"0\" : \"\") + i;\n  }, \"#\");\n}\nconst h = S((e) => {\n  if (typeof e == \"string\" || typeof e == \"number\")\n    return e.toString();\n  throw P();\n}, \"string\"), dt = S((e) => lt(h().parse(e)), \"rgb\");\nfunction te(e) {\n  return _({\n    eventType: h(),\n    eventData: (t) => t\n  }).parse(e);\n}\nfunction ee() {\n  [\"TelegramGameProxy_receiveEvent\", \"TelegramGameProxy\", \"Telegram\"].forEach((e) => {\n    delete window[e];\n  });\n}\nfunction se(e, t) {\n  window.dispatchEvent(new MessageEvent(\"message\", {\n    data: JSON.stringify({ eventType: e, eventData: t }),\n    // We specify window.parent to imitate the case, the parent iframe sent us this event.\n    source: window.parent\n  }));\n}\nfunction ne() {\n  [\n    [\"TelegramGameProxy_receiveEvent\"],\n    // Windows Phone.\n    [\"TelegramGameProxy\", \"receiveEvent\"],\n    // Desktop.\n    [\"Telegram\", \"WebView\", \"receiveEvent\"]\n    // Android and iOS.\n  ].forEach((e) => {\n    let t = window;\n    e.forEach((s, n, r) => {\n      if (n === r.length - 1) {\n        t[s] = se;\n        return;\n      }\n      s in t || (t[s] = {}), t = t[s];\n    });\n  });\n}\nconst re = _({\n  button_id: (e) => e == null ? void 0 : h().parse(e)\n}), ie = {\n  clipboard_text_received: _({\n    req_id: h(),\n    data: (e) => e === null ? e : h().optional().parse(e)\n  }),\n  custom_method_invoked: _({\n    req_id: h(),\n    result: (e) => e,\n    error: h().optional()\n  }),\n  invoice_closed: _({\n    slug: h(),\n    status: h()\n  }),\n  phone_requested: _({\n    status: h()\n  }),\n  popup_closed: {\n    parse: (e) => re.parse(e ?? {})\n  },\n  qr_text_received: _({\n    data: h().optional()\n  }),\n  theme_changed: _({\n    theme_params: (e) => {\n      const t = dt().optional();\n      return Object.entries(Q(e)).reduce((s, [n, r]) => (s[n] = t.parse(r), s), {});\n    }\n  }),\n  viewport_changed: _({\n    height: y(),\n    width: (e) => e == null ? window.innerWidth : y().parse(e),\n    is_state_stable: w(),\n    is_expanded: w()\n  }),\n  write_access_requested: _({\n    status: h()\n  })\n};\nfunction oe() {\n  const e = new V();\n  ne();\n  let t = [\n    // Don't forget to remove created handlers.\n    ee,\n    // Add \"resize\" event listener to make sure, we always have fresh viewport information.\n    // Desktop version of Telegram is sometimes not sending the viewport_changed\n    // event. For example, when the MainButton is shown. That's why we should\n    // add our own listener to make sure, viewport information is always fresh.\n    // Issue: https://github.com/Telegram-Mini-Apps/tma.js/issues/10\n    z(\"resize\", () => {\n      e.emit(\"viewport_changed\", {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        is_state_stable: !0,\n        is_expanded: !0\n      });\n    }),\n    // Add listener, which handles events sent from the Telegram web application and also events\n    // generated by the local emitEvent function.\n    z(\"message\", (s) => {\n      if (s.source !== window.parent)\n        return;\n      let n;\n      try {\n        n = te(s.data);\n      } catch {\n        return;\n      }\n      const { eventType: r, eventData: i } = n, o = ie[r];\n      try {\n        const a = o ? o.parse(i) : i;\n        e.emit(...a ? [r, a] : [r]);\n      } catch (a) {\n        D.error(\n          `An error occurred processing the \"${r}\" event from the Telegram application. Please, file an issue here: https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose`,\n          n,\n          a\n        );\n      }\n    }),\n    // Clear emitter bound events.\n    () => e.clear()\n  ];\n  return [e, () => {\n    t.forEach((s) => s()), t = [];\n  }];\n}\nconst [ae, ce] = ct(\n  (e) => {\n    const [t, s] = oe(), n = t.off.bind(t);\n    return t.off = (r, i) => {\n      const { count: o } = t;\n      n(r, i), o && !t.count && e();\n    }, [t, s];\n  },\n  ([, e]) => e()\n);\nfunction L() {\n  return ae()[0];\n}\nfunction B(e, t) {\n  L().off(e, t);\n}\nfunction b(e, t, s) {\n  return L().on(e, t, s);\n}\nfunction I(e) {\n  return typeof e == \"object\" && e !== null && !Array.isArray(e);\n}\nfunction he(e, t) {\n  const s = e.split(\".\"), n = t.split(\".\"), r = Math.max(s.length, n.length);\n  for (let i = 0; i < r; i += 1) {\n    const o = parseInt(s[i] || \"0\", 10), a = parseInt(n[i] || \"0\", 10);\n    if (o !== a)\n      return o > a ? 1 : -1;\n  }\n  return 0;\n}\nfunction g(e, t) {\n  return he(e, t) <= 0;\n}\nfunction v(e, t, s) {\n  if (typeof s == \"string\") {\n    if (e === \"web_app_open_link\" && t === \"try_instant_view\")\n      return g(\"6.4\", s);\n    if (e === \"web_app_set_header_color\" && t === \"color\")\n      return g(\"6.9\", s);\n  }\n  switch (e) {\n    case \"web_app_open_tg_link\":\n    case \"web_app_open_invoice\":\n    case \"web_app_setup_back_button\":\n    case \"web_app_set_background_color\":\n    case \"web_app_set_header_color\":\n    case \"web_app_trigger_haptic_feedback\":\n      return g(\"6.1\", t);\n    case \"web_app_open_popup\":\n      return g(\"6.2\", t);\n    case \"web_app_close_scan_qr_popup\":\n    case \"web_app_open_scan_qr_popup\":\n    case \"web_app_read_text_from_clipboard\":\n      return g(\"6.4\", t);\n    case \"web_app_switch_inline_query\":\n      return g(\"6.7\", t);\n    case \"web_app_invoke_custom_method\":\n    case \"web_app_request_write_access\":\n    case \"web_app_request_phone\":\n      return g(\"6.9\", t);\n    case \"web_app_setup_settings_button\":\n      return g(\"6.10\", t);\n    case \"web_app_biometry_get_info\":\n    case \"web_app_biometry_open_settings\":\n    case \"web_app_biometry_request_access\":\n    case \"web_app_biometry_request_auth\":\n    case \"web_app_biometry_update_token\":\n      return g(\"7.2\", t);\n    default:\n      return [\n        \"iframe_ready\",\n        \"iframe_will_reload\",\n        \"web_app_close\",\n        \"web_app_data_send\",\n        \"web_app_expand\",\n        \"web_app_open_link\",\n        \"web_app_ready\",\n        \"web_app_request_theme\",\n        \"web_app_request_viewport\",\n        \"web_app_setup_main_button\",\n        \"web_app_setup_closing_behavior\"\n      ].includes(e);\n  }\n}\nfunction pe(e) {\n  return \"external\" in e && I(e.external) && \"notify\" in e.external && typeof e.external.notify == \"function\";\n}\nfunction _t(e) {\n  return \"TelegramWebviewProxy\" in e && I(e.TelegramWebviewProxy) && \"postEvent\" in e.TelegramWebviewProxy && typeof e.TelegramWebviewProxy.postEvent == \"function\";\n}\nfunction ue() {\n  try {\n    return window.self !== window.top;\n  } catch {\n    return !0;\n  }\n}\nlet ft = \"https://web.telegram.org\";\nfunction ns(e) {\n  ft = e;\n}\nfunction le() {\n  return ft;\n}\nfunction T(e, t, s) {\n  let n = {}, r;\n  t === void 0 && s === void 0 ? n = {} : t !== void 0 && s !== void 0 ? (n = s, r = t) : t !== void 0 && (\"targetOrigin\" in t ? n = t : r = t);\n  const { targetOrigin: i = le() } = n;\n  if (Wt(\"Posting event:\", r ? { event: e, data: r } : { event: e }), ue()) {\n    window.parent.postMessage(JSON.stringify({ eventType: e, eventData: r }), i);\n    return;\n  }\n  if (pe(window)) {\n    window.external.notify(JSON.stringify({ eventType: e, eventData: r }));\n    return;\n  }\n  if (_t(window)) {\n    window.TelegramWebviewProxy.postEvent(e, JSON.stringify(r));\n    return;\n  }\n  throw u(\n    jt,\n    \"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside of Telegram application environment.\"\n  );\n}\nfunction de(e) {\n  return (t, s) => {\n    if (!v(t, e))\n      throw u(Ht, `Method \"${t}\" is unsupported in Mini Apps version ${e}`);\n    if (I(s)) {\n      let n;\n      if (t === \"web_app_open_link\" && \"try_instant_view\" in s ? n = \"try_instant_view\" : t === \"web_app_set_header_color\" && \"color\" in s && (n = \"color\"), n && !v(t, n, e))\n        throw u(\n          Gt,\n          `Parameter \"${n}\" of \"${t}\" method is unsupported in Mini Apps version ${e}`\n        );\n    }\n    return T(t, s);\n  };\n}\nfunction gt(e) {\n  return ({ req_id: t }) => t === e;\n}\nfunction bt(e) {\n  return u(Ft, `Timeout reached: ${e}ms`);\n}\nfunction wt(e, t) {\n  return Promise.race([\n    typeof e == \"function\" ? e() : e,\n    new Promise((s, n) => {\n      setTimeout(() => {\n        n(bt(t));\n      }, t);\n    })\n  ]);\n}\nasync function f(e) {\n  let t;\n  const s = new Promise((d) => {\n    t = d;\n  }), {\n    method: n,\n    event: r,\n    capture: i,\n    postEvent: o = T,\n    timeout: a\n  } = e, p = (Array.isArray(r) ? r : [r]).map(\n    (d) => b(d, (st) => (!i || i(st)) && t(st))\n  );\n  try {\n    return o(n, e.params), await (a ? wt(s, a) : s);\n  } finally {\n    p.forEach((d) => d());\n  }\n}\nasync function R(e, t, s, n = {}) {\n  const {\n    result: r,\n    error: i\n  } = await f({\n    ...n,\n    method: \"web_app_invoke_custom_method\",\n    event: \"custom_method_invoked\",\n    params: {\n      method: e,\n      params: t,\n      req_id: s\n    },\n    capture: gt(s)\n  });\n  if (i)\n    throw u(zt, i);\n  return r;\n}\nfunction F(...e) {\n  return e.map((t) => {\n    if (typeof t == \"string\")\n      return t;\n    if (I(t))\n      return F(Object.entries(t).map((s) => s[1] && s[0]));\n    if (Array.isArray(t))\n      return F(...t);\n  }).filter(Boolean).join(\" \");\n}\nfunction rs(...e) {\n  return e.reduce((t, s) => (I(s) && Object.entries(s).forEach(([n, r]) => {\n    const i = F(t[n], r);\n    i.length && (t[n] = i);\n  }), t), {});\n}\nfunction mt(e) {\n  const t = lt(e);\n  return Math.sqrt(\n    [0.299, 0.587, 0.114].reduce((s, n, r) => {\n      const i = parseInt(t.slice(1 + r * 2, 1 + (r + 1) * 2), 16);\n      return s + i * i * n;\n    }, 0)\n  ) < 120;\n}\nclass _e {\n  constructor(t) {\n    c(this, \"ee\", new V());\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    this.state = t;\n  }\n  /**\n   * Clones current state and returns its copy.\n   */\n  clone() {\n    return { ...this.state };\n  }\n  set(t, s) {\n    Object.entries(typeof t == \"string\" ? { [t]: s } : t).reduce((r, [i, o]) => this.state[i] === o || o === void 0 ? r : (this.state[i] = o, this.ee.emit(`change:${i}`, o), !0), !1) && this.ee.emit(\"change\", this.state);\n  }\n  /**\n   * Returns value by specified key.\n   * @param key - state key.\n   */\n  get(t) {\n    return this.state[t];\n  }\n}\nclass Z {\n  constructor(t) {\n    c(this, \"state\");\n    /**\n     * Gets the state value.\n     */\n    c(this, \"get\");\n    /**\n     * Sets the state value.\n     */\n    c(this, \"set\");\n    /**\n     * Clones the current state.\n     */\n    c(this, \"clone\");\n    this.state = new _e(t), this.set = this.state.set.bind(this.state), this.get = this.state.get.bind(this.state), this.clone = this.state.clone.bind(this.state);\n  }\n}\nfunction yt(e, t) {\n  return (s) => v(t[s], e);\n}\nclass X extends Z {\n  constructor(s, n, r) {\n    super(s);\n    /**\n     * @returns True, if specified method is supported by the current component.\n     */\n    c(this, \"supports\");\n    this.supports = yt(n, r);\n  }\n}\nclass fe extends X {\n  constructor(s, n, r) {\n    super({ isVisible: s }, n, {\n      show: \"web_app_setup_back_button\",\n      hide: \"web_app_setup_back_button\"\n    });\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (s, n) => s === \"click\" ? b(\"back_button_pressed\", n) : this.state.on(s, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (s, n) => s === \"click\" ? B(\"back_button_pressed\", n) : this.state.off(s, n));\n    this.postEvent = r;\n  }\n  set isVisible(s) {\n    this.set(\"isVisible\", s), this.postEvent(\"web_app_setup_back_button\", { is_visible: s });\n  }\n  /**\n   * True if BackButton is currently visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the BackButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the BackButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nfunction E() {\n  return typeof window > \"u\";\n}\nconst vt = S((e) => e instanceof Date ? e : new Date(y().parse(e) * 1e3), \"Date\");\nfunction K(e, t) {\n  return new M((s) => {\n    if (typeof s != \"string\" && !(s instanceof URLSearchParams))\n      throw P();\n    const n = typeof s == \"string\" ? new URLSearchParams(s) : s;\n    return ut(e, (r) => {\n      const i = n.get(r);\n      return i === null ? void 0 : i;\n    });\n  }, !1, t);\n}\nconst ge = _({\n  id: y(),\n  type: h(),\n  title: h(),\n  photoUrl: {\n    type: h().optional(),\n    from: \"photo_url\"\n  },\n  username: h().optional()\n}, \"Chat\").optional(), rt = _({\n  addedToAttachmentMenu: {\n    type: w().optional(),\n    from: \"added_to_attachment_menu\"\n  },\n  allowsWriteToPm: {\n    type: w().optional(),\n    from: \"allows_write_to_pm\"\n  },\n  firstName: {\n    type: h(),\n    from: \"first_name\"\n  },\n  id: y(),\n  isBot: {\n    type: w().optional(),\n    from: \"is_bot\"\n  },\n  isPremium: {\n    type: w().optional(),\n    from: \"is_premium\"\n  },\n  languageCode: {\n    type: h().optional(),\n    from: \"language_code\"\n  },\n  lastName: {\n    type: h().optional(),\n    from: \"last_name\"\n  },\n  photoUrl: {\n    type: h().optional(),\n    from: \"photo_url\"\n  },\n  username: h().optional()\n}, \"User\").optional();\nfunction Et() {\n  return K({\n    authDate: {\n      type: vt(),\n      from: \"auth_date\"\n    },\n    canSendAfter: {\n      type: y().optional(),\n      from: \"can_send_after\"\n    },\n    chat: ge,\n    chatInstance: {\n      type: h().optional(),\n      from: \"chat_instance\"\n    },\n    chatType: {\n      type: h().optional(),\n      from: \"chat_type\"\n    },\n    hash: h(),\n    queryId: {\n      type: h().optional(),\n      from: \"query_id\"\n    },\n    receiver: rt,\n    startParam: {\n      type: h().optional(),\n      from: \"start_param\"\n    },\n    user: rt\n  }, \"InitData\");\n}\nfunction be(e) {\n  return e.replace(/_[a-z]/g, (t) => t[1].toUpperCase());\n}\nfunction we(e) {\n  return e.replace(/[A-Z]/g, (t) => `_${t.toLowerCase()}`);\n}\nconst Pt = S(\n  (e) => {\n    const t = dt().optional();\n    return Object.entries(Q(e)).reduce((s, [n, r]) => (s[be(n)] = t.parse(r), s), {});\n  },\n  \"ThemeParams\"\n);\nfunction St(e) {\n  return K({\n    botInline: {\n      type: w().optional(),\n      from: \"tgWebAppBotInline\"\n    },\n    initData: {\n      type: Et().optional(),\n      from: \"tgWebAppData\"\n    },\n    initDataRaw: {\n      type: h().optional(),\n      from: \"tgWebAppData\"\n    },\n    platform: {\n      type: h(),\n      from: \"tgWebAppPlatform\"\n    },\n    showSettings: {\n      type: w().optional(),\n      from: \"tgWebAppShowSettings\"\n    },\n    startParam: {\n      type: h().optional(),\n      from: \"tgWebAppStartParam\"\n    },\n    themeParams: {\n      type: Pt(),\n      from: \"tgWebAppThemeParams\"\n    },\n    version: {\n      type: h(),\n      from: \"tgWebAppVersion\"\n    }\n  }).parse(e);\n}\nfunction xt(e) {\n  return St(\n    e.replace(/^[^?#]*[?#]/, \"\").replace(/[?#]/g, \"&\")\n  );\n}\nfunction me() {\n  return xt(window.location.href);\n}\nfunction Rt() {\n  return performance.getEntriesByType(\"navigation\")[0];\n}\nfunction ye() {\n  const e = Rt();\n  if (!e)\n    throw new Error(\"Unable to get first navigation entry.\");\n  return xt(e.name);\n}\nfunction Ct(e) {\n  return `tma.js/${e.replace(/[A-Z]/g, (t) => `-${t.toLowerCase()}`)}`;\n}\nfunction Tt(e, t) {\n  sessionStorage.setItem(Ct(e), JSON.stringify(t));\n}\nfunction At(e) {\n  const t = sessionStorage.getItem(Ct(e));\n  try {\n    return t ? JSON.parse(t) : void 0;\n  } catch {\n  }\n}\nfunction ve() {\n  return St(At(\"launchParams\") || \"\");\n}\nfunction Ee(e) {\n  return JSON.stringify(\n    Object.fromEntries(\n      Object.entries(e).map(([t, s]) => [we(t), s])\n    )\n  );\n}\nfunction Pe(e) {\n  const {\n    initDataRaw: t,\n    themeParams: s,\n    platform: n,\n    version: r,\n    showSettings: i,\n    startParam: o,\n    botInline: a\n  } = e, p = new URLSearchParams();\n  return p.set(\"tgWebAppPlatform\", n), p.set(\"tgWebAppThemeParams\", Ee(s)), p.set(\"tgWebAppVersion\", r), t && p.set(\"tgWebAppData\", t), o && p.set(\"tgWebAppStartParam\", o), typeof i == \"boolean\" && p.set(\"tgWebAppShowSettings\", i ? \"1\" : \"0\"), typeof a == \"boolean\" && p.set(\"tgWebAppBotInline\", a ? \"1\" : \"0\"), p.toString();\n}\nfunction Se(e) {\n  Tt(\"launchParams\", Pe(e));\n}\nfunction xe() {\n  for (const e of [\n    // Try to retrieve launch parameters from the current location. This method can return\n    // nothing in case, location was changed and then page was reloaded.\n    me,\n    // Then, try using the lower level API - window.performance.\n    ye,\n    // Finally, try to extract launch parameters from the session storage.\n    ve\n  ])\n    try {\n      const t = e();\n      return Se(t), t;\n    } catch {\n    }\n  throw new Error(\"Unable to retrieve launch parameters from any known source.\");\n}\nfunction It() {\n  const e = Rt();\n  return !!(e && e.type === \"reload\");\n}\nfunction Re() {\n  let e = 0;\n  return () => (e += 1).toString();\n}\nconst [Ce] = ct(Re);\nfunction l(e, t) {\n  return ({ ssr: s } = {}) => {\n    let n;\n    if (E()) {\n      if (!s)\n        throw u(\n          J,\n          \"ssr.options must be specified to initialize component on the server side\"\n        );\n      n = s;\n    } else\n      n = xe();\n    const r = {\n      ...n,\n      postEvent: \"version\" in n ? de(n.version) : () => {\n        throw u(\n          Zt,\n          \"postEvent function is forbidden to be called on the server side.\"\n        );\n      },\n      createRequestId: Ce()\n    };\n    if (E() || typeof e == \"function\")\n      return typeof e == \"function\" ? e(r) : t(r);\n    const i = t({\n      ...r,\n      state: It() ? At(e) : void 0\n    }), o = (a) => (a.on(\"change\", (p) => {\n      Tt(e, p);\n    }), a);\n    return i instanceof Promise ? i.then(o) : o(i);\n  };\n}\nconst is = l(\"backButton\", ({\n  postEvent: e,\n  version: t,\n  state: s = { isVisible: !1 }\n}) => new fe(s.isVisible, t, e));\nclass q extends X {\n  constructor() {\n    super(...arguments);\n    /**\n     * Adds a new event listener.\n     */\n    c(this, \"on\", this.state.on.bind(this.state));\n    /**\n     * Removes the event listener.\n     */\n    c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nfunction qt(e) {\n  const t = e.available ? e : {\n    available: !1,\n    device_id: \"\",\n    token_saved: !1,\n    access_requested: !1,\n    access_granted: !1,\n    type: \"\"\n  };\n  return {\n    available: !0,\n    type: t.type,\n    deviceId: t.device_id,\n    tokenSaved: t.token_saved,\n    accessRequested: t.access_requested,\n    accessGranted: t.access_granted\n  };\n}\nclass it extends q {\n  constructor({ postEvent: s, version: n, ...r }) {\n    super(r, n, {\n      auth: \"web_app_biometry_request_auth\",\n      openSettings: \"web_app_biometry_open_settings\",\n      requestAccess: \"web_app_biometry_request_access\",\n      updateToken: \"web_app_biometry_update_token\"\n    });\n    c(this, \"postEvent\");\n    c(this, \"authPromise\");\n    c(this, \"accessPromise\");\n    this.postEvent = s;\n  }\n  /**\n   * Shows whether biometry is available.\n   */\n  get available() {\n    return this.get(\"available\");\n  }\n  /**\n   * Shows whether permission to use biometrics has been granted.\n   */\n  get accessGranted() {\n    return this.get(\"accessGranted\");\n  }\n  /**\n   * Shows whether if permission to use biometrics has been requested.\n   */\n  get accessRequested() {\n    return this.get(\"accessRequested\");\n  }\n  /**\n   * Authenticates the user using biometrics.\n   * @param options - method options.\n   * @since 7.2\n   * @returns Token from the local secure storage, if authentication was successful.\n   */\n  async authenticate({\n    reason: s,\n    ...n\n  }) {\n    return this.authPromise || (this.authPromise = f({\n      ...n,\n      method: \"web_app_biometry_request_auth\",\n      event: \"biometry_auth_requested\",\n      postEvent: this.postEvent,\n      params: {\n        // TODO: Check if reason is empty works fine.\n        reason: (s || \"\").trim()\n      }\n    }).then(({ token: r }) => r).finally(() => this.authPromise = void 0)), this.authPromise;\n  }\n  /**\n   * A unique device identifier that can be used to match the token to the device.\n   */\n  get deviceId() {\n    return this.get(\"deviceId\");\n  }\n  /**\n   * Opens the biometric access settings for bots. Useful when you need to request biometrics\n   * access to users who haven't granted it yet.\n   *\n   * _Note that this method can be called only in response to user interaction with the Mini App\n   * interface (e.g. a click inside the Mini App or on the main button)_.\n   * @since 7.2\n   */\n  openSettings() {\n    this.postEvent(\"web_app_biometry_open_settings\");\n  }\n  /**\n   * Requests permission to use biometrics.\n   * @since 7.2\n   * @returns Promise with true, if access was granted.\n   */\n  requestAccess({ reason: s, ...n } = {}) {\n    return this.accessPromise || (this.accessPromise = f({\n      ...n,\n      postEvent: this.postEvent,\n      method: \"web_app_biometry_request_access\",\n      event: \"biometry_info_received\",\n      params: { reason: s || \"\" }\n    }).then((r) => {\n      const i = qt(r);\n      return this.set(i), i.accessGranted;\n    }).finally(() => this.accessPromise = void 0)), this.accessPromise;\n  }\n  /**\n   * The type of biometrics currently available on the device.\n   */\n  get biometryType() {\n    return this.get(\"biometryType\");\n  }\n  /**\n   * Shows whether token was saved previously in the local secure storage.\n   */\n  get tokenSaved() {\n    return this.get(\"tokenSaved\");\n  }\n  /**\n   * Updates the biometric token in a secure storage on the device.\n   * @returns Promise with `true`, if token was updated.\n   */\n  async updateToken({ token: s, ...n } = {}) {\n    return [\"removed\", \"updated\"].includes(\n      (await f({\n        ...n,\n        postEvent: this.postEvent,\n        method: \"web_app_biometry_update_token\",\n        event: \"biometry_token_updated\",\n        params: { token: s || \"\" }\n      })).status\n    );\n  }\n}\nasync function Te(e) {\n  return qt(\n    await f({\n      ...e || {},\n      method: \"web_app_biometry_get_info\",\n      event: \"biometry_info_received\"\n    })\n  );\n}\nconst os = l(\"biometryManager\", async ({ postEvent: e, version: t, state: s }) => {\n  if (s)\n    return new it({ ...s, version: t, postEvent: e });\n  if (E())\n    throw u(\n      J,\n      \"BiometryManager cannot be instantiated on the server side without passing the ssr.state object.\"\n    );\n  return new it({\n    ...await Te({ timeout: 1e3 }),\n    version: t,\n    postEvent: e\n  });\n});\nclass tt extends Z {\n  constructor() {\n    super(...arguments);\n    /**\n     * Adds a new event listener.\n     */\n    c(this, \"on\", this.state.on.bind(this.state));\n    /**\n     * Removes the event listener.\n     */\n    c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nclass Ae extends tt {\n  constructor(t, s) {\n    super({ isConfirmationNeeded: t }), this.postEvent = s;\n  }\n  set isConfirmationNeeded(t) {\n    this.set(\"isConfirmationNeeded\", t), this.postEvent(\"web_app_setup_closing_behavior\", { need_confirmation: t });\n  }\n  /**\n   * True, if the confirmation dialog should be shown while the user is trying to close\n   * the Mini App.\n   */\n  get isConfirmationNeeded() {\n    return this.get(\"isConfirmationNeeded\");\n  }\n  /**\n   * Disables the confirmation dialog when closing the Mini App.\n   */\n  disableConfirmation() {\n    this.isConfirmationNeeded = !1;\n  }\n  /**\n   * Enables the confirmation dialog when closing the Mini App.\n   */\n  enableConfirmation() {\n    this.isConfirmationNeeded = !0;\n  }\n}\nconst as = l(\"closingBehavior\", ({\n  postEvent: e,\n  state: t = { isConfirmationNeeded: !1 }\n}) => new Ae(t.isConfirmationNeeded, e));\nclass et {\n  constructor(t, s) {\n    /**\n     * @returns True, if specified method is supported by the current component.\n     */\n    c(this, \"supports\");\n    this.supports = yt(t, s);\n  }\n}\nfunction Ie(e) {\n  if (Array.isArray(e))\n    return e;\n  if (typeof e == \"string\")\n    try {\n      const t = JSON.parse(e);\n      if (Array.isArray(t))\n        return t;\n    } catch {\n    }\n  throw P();\n}\nclass qe extends M {\n  constructor(s, n, r) {\n    super(Ie, n, r);\n    c(this, \"itemParser\");\n    this.itemParser = typeof s == \"function\" ? s : s.parse.bind(s);\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(s) {\n    const n = super.parse(s);\n    return n === void 0 ? n : n.map(this.itemParser);\n  }\n  of(s) {\n    return this.itemParser = typeof s == \"function\" ? s : s.parse.bind(s), this;\n  }\n}\nfunction ke(e) {\n  return new qe((t) => t, !1, e);\n}\nfunction ot(e, t) {\n  return Object.fromEntries(e.map((s) => [s, t]));\n}\nclass Ne extends et {\n  constructor(t, s, n) {\n    super(t, {\n      delete: \"web_app_invoke_custom_method\",\n      get: \"web_app_invoke_custom_method\",\n      getKeys: \"web_app_invoke_custom_method\",\n      set: \"web_app_invoke_custom_method\"\n    }), this.createRequestId = s, this.postEvent = n;\n  }\n  /**\n   * Deletes specified key or keys from the cloud storage.\n   * @param keyOrKeys - key or keys to delete.\n   * @param options - request execution options.\n   */\n  async delete(t, s = {}) {\n    const n = Array.isArray(t) ? t : [t];\n    n.length && await R(\n      \"deleteStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...s, postEvent: this.postEvent }\n    );\n  }\n  /**\n   * Returns list of all keys presented in the cloud storage.\n   * @param options - request execution options.\n   */\n  async getKeys(t = {}) {\n    return ke().of(h()).parse(\n      await R(\n        \"getStorageKeys\",\n        {},\n        this.createRequestId(),\n        { ...t, postEvent: this.postEvent }\n      )\n    );\n  }\n  async get(t, s = {}) {\n    const n = Array.isArray(t) ? t : [t];\n    if (!n.length)\n      return ot(n, \"\");\n    const r = await R(\n      \"getStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...s, postEvent: this.postEvent }\n    ), i = _(ot(n, h()), \"CloudStorageData\").parse(r);\n    return Array.isArray(t) ? i : i[t];\n  }\n  /**\n   * Saves specified value by key.\n   * @param key - storage key.\n   * @param value - storage value.\n   * @param options - request execution options.\n   */\n  async set(t, s, n = {}) {\n    await R(\n      \"saveStorageValue\",\n      { key: t, value: s },\n      this.createRequestId(),\n      { ...n, postEvent: this.postEvent }\n    );\n  }\n}\nconst cs = l(\n  ({ createRequestId: e, postEvent: t, version: s }) => new Ne(s, e, t)\n);\nclass De extends et {\n  constructor(t, s) {\n    super(t, {\n      impactOccurred: \"web_app_trigger_haptic_feedback\",\n      notificationOccurred: \"web_app_trigger_haptic_feedback\",\n      selectionChanged: \"web_app_trigger_haptic_feedback\"\n    }), this.postEvent = s;\n  }\n  /**\n   * A method tells that an impact occurred. The Telegram app may play the\n   * appropriate haptics based on style value passed.\n   * @param style - impact style.\n   */\n  impactOccurred(t) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"impact\",\n      impact_style: t\n    });\n  }\n  /**\n   * A method tells that a task or action has succeeded, failed, or produced\n   * a warning. The Telegram app may play the appropriate haptics based on\n   * type value passed.\n   * @param type - notification type.\n   */\n  notificationOccurred(t) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"notification\",\n      notification_type: t\n    });\n  }\n  /**\n   * A method tells that the user has changed a selection. The Telegram app\n   * may play the appropriate haptics.\n   *\n   * Do not use this feedback when the user makes or confirms a selection;\n   * use it only when the selection changes.\n   */\n  selectionChanged() {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", { type: \"selection_change\" });\n  }\n}\nconst hs = l(\n  ({ version: e, postEvent: t }) => new De(e, t)\n);\nclass Ve {\n  constructor(t) {\n    this.initData = t;\n  }\n  /**\n   * @see InitDataParsed.authDate\n   */\n  get authDate() {\n    return this.initData.authDate;\n  }\n  /**\n   * @see InitDataParsed.canSendAfter\n   */\n  get canSendAfter() {\n    return this.initData.canSendAfter;\n  }\n  /**\n   * Date after which it is allowed to call\n   * the [answerWebAppQuery](https://core.telegram.org/bots/api#answerwebappquery) method.\n   */\n  get canSendAfterDate() {\n    const { canSendAfter: t } = this;\n    return t ? new Date(this.authDate.getTime() + t * 1e3) : void 0;\n  }\n  /**\n   * @see InitDataParsed.chat\n   */\n  get chat() {\n    return this.initData.chat;\n  }\n  /**\n   * @see InitDataParsed.chatType\n   */\n  get chatType() {\n    return this.initData.chatType;\n  }\n  /**\n   * @see InitDataParsed.chatInstance\n   */\n  get chatInstance() {\n    return this.initData.chatInstance;\n  }\n  /**\n   * @see InitDataParsed.hash\n   */\n  get hash() {\n    return this.initData.hash;\n  }\n  /**\n   * @see InitDataParsed.queryId\n   */\n  get queryId() {\n    return this.initData.queryId;\n  }\n  /**\n   * @see InitDataParsed.receiver\n   */\n  get receiver() {\n    return this.initData.receiver;\n  }\n  /**\n   * @see InitDataParsed.startParam\n   */\n  get startParam() {\n    return this.initData.startParam;\n  }\n  /**\n   * @see InitDataParsed.user\n   */\n  get user() {\n    return this.initData.user;\n  }\n}\nconst ps = l(\n  ({ initData: e }) => e ? new Ve(e) : void 0\n);\nfunction us(e) {\n  return Et().parse(e);\n}\nclass $e extends q {\n  constructor(t, s, n) {\n    super({ isOpened: t }, s, { open: \"web_app_open_invoice\" }), this.postEvent = n;\n  }\n  set isOpened(t) {\n    this.set(\"isOpened\", t);\n  }\n  /**\n   * True if invoice is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  async open(t, s) {\n    if (this.isOpened)\n      throw new Error(\"Invoice is already opened\");\n    let n;\n    if (!s)\n      n = t;\n    else {\n      const { hostname: r, pathname: i } = new URL(t, window.location.href);\n      if (r !== \"t.me\")\n        throw new Error(`Incorrect hostname: ${r}`);\n      const o = i.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/);\n      if (!o)\n        throw new Error('Link pathname has incorrect format. Expected to receive \"/invoice/{slug}\" or \"/${slug}\"');\n      [, , n] = o;\n    }\n    this.isOpened = !0;\n    try {\n      return (await f({\n        method: \"web_app_open_invoice\",\n        event: \"invoice_closed\",\n        params: { slug: n },\n        postEvent: this.postEvent,\n        capture(i) {\n          return n === i.slug;\n        }\n      })).status;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst ls = l(\n  ({ version: e, postEvent: t }) => new $e(!1, e, t)\n);\nclass Me extends Z {\n  constructor({ postEvent: s, ...n }) {\n    super(n);\n    c(this, \"postEvent\");\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (s, n) => s === \"click\" ? b(\"main_button_pressed\", n) : this.state.on(s, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (s, n) => s === \"click\" ? B(\"main_button_pressed\", n) : this.state.off(s, n));\n    this.postEvent = s;\n  }\n  /**\n   * Sends current local state to the Telegram application.\n   */\n  commit() {\n    this.text !== \"\" && this.postEvent(\"web_app_setup_main_button\", {\n      is_visible: this.isVisible,\n      is_active: this.isEnabled,\n      is_progress_visible: this.isLoaderVisible,\n      text: this.text,\n      color: this.backgroundColor,\n      text_color: this.textColor\n    });\n  }\n  set isEnabled(s) {\n    this.setParams({ isEnabled: s });\n  }\n  /**\n   * True if the MainButton is enabled.\n   */\n  get isEnabled() {\n    return this.get(\"isEnabled\");\n  }\n  set isLoaderVisible(s) {\n    this.setParams({ isLoaderVisible: s });\n  }\n  /**\n   * True if the MainButton loader is visible.\n   */\n  get isLoaderVisible() {\n    return this.get(\"isLoaderVisible\");\n  }\n  set isVisible(s) {\n    this.setParams({ isVisible: s });\n  }\n  /**\n   * True if the MainButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * The MainButton background color.\n   */\n  get backgroundColor() {\n    return this.get(\"backgroundColor\");\n  }\n  /**\n   * The MainButton text.\n   */\n  get text() {\n    return this.get(\"text\");\n  }\n  /**\n   * The MainButton text color.\n   */\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n  /**\n   * Disables the MainButton.\n   * @see Does not work on Android: https://github.com/Telegram-Mini-Apps/issues/issues/1\n   */\n  disable() {\n    return this.isEnabled = !1, this;\n  }\n  /**\n   * Enables the MainButton.\n   */\n  enable() {\n    return this.isEnabled = !0, this;\n  }\n  /**\n   * Hides the MainButton.\n   */\n  hide() {\n    return this.isVisible = !1, this;\n  }\n  /**\n   * Hides the MainButton loading indicator.\n   */\n  hideLoader() {\n    return this.isLoaderVisible = !1, this;\n  }\n  /**\n   * Shows the MainButton.\n   *\n   * Note that opening the Mini App from the attachment menu hides the main button until the\n   * user interacts with the Mini App interface.\n   */\n  show() {\n    return this.isVisible = !0, this;\n  }\n  /**\n   * Shows a loading indicator on the Main Button.\n   */\n  showLoader() {\n    return this.isLoaderVisible = !0, this;\n  }\n  /**\n   * Sets a new MainButton text. Minimal length for the text is 1 symbol, and maximum is 64 symbols.\n   * @param text - a new text.\n   */\n  setText(s) {\n    return this.setParams({ text: s });\n  }\n  /**\n   * Sets a new Main Button text color.\n   * @param textColor - new text color.\n   */\n  setTextColor(s) {\n    return this.setParams({ textColor: s });\n  }\n  /**\n   * Updates current Main Button color.\n   * @param backgroundColor - color to set.\n   */\n  setBackgroundColor(s) {\n    return this.setParams({ backgroundColor: s });\n  }\n  /**\n   * Allows setting multiple Main Button parameters.\n   * @param params - Main Button parameters.\n   */\n  setParams(s) {\n    return this.set(s), this.commit(), this;\n  }\n}\nconst ds = l(\"mainButton\", ({\n  postEvent: e,\n  themeParams: t,\n  state: s = {\n    isVisible: !1,\n    isEnabled: !1,\n    text: \"\",\n    isLoaderVisible: !1,\n    textColor: t.buttonTextColor || \"#ffffff\",\n    backgroundColor: t.buttonColor || \"#000000\"\n  }\n}) => new Me({ ...s, postEvent: e }));\nfunction Le() {\n  return K({\n    contact: _({\n      userId: {\n        type: y(),\n        from: \"user_id\"\n      },\n      phoneNumber: {\n        type: h(),\n        from: \"phone_number\"\n      },\n      firstName: {\n        type: h(),\n        from: \"first_name\"\n      },\n      lastName: {\n        type: h().optional(),\n        from: \"last_name\"\n      }\n    }),\n    authDate: {\n      type: vt(),\n      from: \"auth_date\"\n    },\n    hash: h()\n  }, \"RequestedContact\");\n}\nfunction kt(e, t) {\n  return (s) => {\n    const [n, r] = t[s];\n    return v(n, r, e);\n  };\n}\nfunction Be(e) {\n  return new Promise((t) => {\n    setTimeout(t, e);\n  });\n}\nclass Oe extends q {\n  constructor({ postEvent: s, createRequestId: n, version: r, botInline: i, ...o }) {\n    super(o, r, {\n      requestPhoneAccess: \"web_app_request_phone\",\n      requestWriteAccess: \"web_app_request_write_access\",\n      switchInlineQuery: \"web_app_switch_inline_query\",\n      setHeaderColor: \"web_app_set_header_color\",\n      setBackgroundColor: \"web_app_set_background_color\"\n    });\n    c(this, \"botInline\");\n    c(this, \"postEvent\");\n    c(this, \"createRequestId\");\n    c(this, \"requestPhoneAccessPromise\");\n    c(this, \"requestWriteAccessPromise\");\n    /**\n     * Checks if specified method parameter is supported by current component.\n     */\n    c(this, \"supportsParam\");\n    this.createRequestId = n, this.postEvent = s, this.botInline = i;\n    const a = this.supports.bind(this);\n    this.supports = (p) => a(p) ? p !== \"switchInlineQuery\" || i : !1, this.supportsParam = kt(r, {\n      \"setHeaderColor.color\": [\"web_app_set_header_color\", \"color\"]\n    });\n  }\n  /**\n   * Attempts to get requested contact.\n   * @param timeout - request timeout.\n   */\n  async getRequestedContact({\n    timeout: s = 1e4\n  } = {}) {\n    return Le().parse(\n      await R(\n        \"getRequestedContact\",\n        {},\n        this.createRequestId(),\n        { postEvent: this.postEvent, timeout: s }\n      )\n    );\n  }\n  /**\n   * The Mini App background color.\n   * @example \"#ffaabb\"\n   */\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  /**\n   * Closes the Mini App.\n   */\n  close() {\n    this.postEvent(\"web_app_close\");\n  }\n  /**\n   * The Mini App header color.\n   * @example \"#ffaabb\"\n   * @example \"bg_color\"\n   */\n  get headerColor() {\n    return this.get(\"headerColor\");\n  }\n  /**\n   * True if the Mini App is currently launched in bot inline mode.\n   */\n  get isBotInline() {\n    return this.botInline;\n  }\n  /**\n   * True if current Mini App background color is recognized as dark.\n   */\n  get isDark() {\n    return mt(this.bgColor);\n  }\n  /**\n   * Informs the Telegram app that the Mini App is ready to be displayed.\n   *\n   * It is recommended to call this method as early as possible, as soon as all essential\n   * interface elements loaded. Once this method called, the loading placeholder is hidden\n   * and the Mini App shown.\n   *\n   * If the method not called, the placeholder will be hidden only when the page fully loaded.\n   */\n  ready() {\n    this.postEvent(\"web_app_ready\");\n  }\n  /**\n   * Requests current user contact information. In contrary to requestPhoneAccess, this method\n   * returns promise with contact information that rejects in case, user denied access, or request\n   * failed.\n   * @param options - additional options.\n   */\n  async requestContact({ timeout: s = 5e3 } = {}) {\n    try {\n      return await this.getRequestedContact();\n    } catch {\n    }\n    if (await this.requestPhoneAccess() !== \"sent\")\n      throw new Error(\"Access denied.\");\n    const r = Date.now() + s;\n    let i = 50;\n    return wt(async () => {\n      for (; Date.now() < r; ) {\n        try {\n          return await this.getRequestedContact();\n        } catch {\n        }\n        await Be(i), i += 50;\n      }\n      throw bt(s);\n    }, s);\n  }\n  /**\n   * Requests current user phone access. Method returns promise, which resolves\n   * status of the request. In case, user accepted the request, Mini App bot will receive\n   * the according notification.\n   *\n   * To obtain the retrieved information instead, utilize the `requestContact` method.\n   * @param options - additional options.\n   * @see requestContact\n   */\n  async requestPhoneAccess(s = {}) {\n    return this.requestPhoneAccessPromise || (this.requestPhoneAccessPromise = f({\n      ...s,\n      method: \"web_app_request_phone\",\n      event: \"phone_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: n }) => n).finally(() => this.requestPhoneAccessPromise = void 0)), this.requestPhoneAccessPromise;\n  }\n  /**\n   * Requests write message access to current user.\n   * @param options - additional options.\n   */\n  async requestWriteAccess(s = {}) {\n    return this.requestWriteAccessPromise || (this.requestWriteAccessPromise = f({\n      ...s,\n      method: \"web_app_request_write_access\",\n      event: \"write_access_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: n }) => n).finally(() => this.requestWriteAccessPromise = void 0)), this.requestWriteAccessPromise;\n  }\n  /**\n   * A method used to send data to the bot. When this method called, a service message sent to\n   * the bot containing the data of the length up to 4096 bytes, and the Mini App closed. See the\n   * field `web_app_data` in the class [Message](https://core.telegram.org/bots/api#message).\n   *\n   * This method is only available for Mini Apps launched via a Keyboard button.\n   * @param data - data to send to bot.\n   * @throws {Error} data has incorrect size.\n   */\n  sendData(s) {\n    const { size: n } = new Blob([s]);\n    if (!n || n > 4096)\n      throw new Error(`Passed data has incorrect size: ${n}`);\n    this.postEvent(\"web_app_data_send\", { data: s });\n  }\n  /**\n   * Updates current Mini App header color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/tma.js/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/tma.js/issues/8\n   * @param color - color key or RGB color.\n   */\n  setHeaderColor(s) {\n    this.postEvent(\"web_app_set_header_color\", Y(s) ? { color: s } : { color_key: s }), this.set(\"headerColor\", s);\n  }\n  /**\n   * Updates current Mini App background color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/tma.js/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/tma.js/issues/8\n   * @param color - RGB color.\n   */\n  setBgColor(s) {\n    this.postEvent(\"web_app_set_background_color\", { color: s }), this.set(\"bgColor\", s);\n  }\n  /**\n   * Inserts the bot's username and the specified inline query in the current chat's input field.\n   * Query may be empty, in which case only the bot's username will be inserted. The client prompts\n   * the user to choose a specific chat, then opens that chat and inserts the bot's username and\n   * the specified inline query in the input field.\n   * @param text - text which should be inserted in the input after the current bot name. Max\n   * length is 256 symbols.\n   * @param chatTypes - List of chat types which could be chosen to send the message. Could be\n   * empty list.\n   */\n  switchInlineQuery(s, n = []) {\n    if (!this.supports(\"switchInlineQuery\") && !this.isBotInline)\n      throw new Error(\"Method is unsupported because Mini App should be launched in inline mode.\");\n    this.postEvent(\"web_app_switch_inline_query\", { query: s, chat_types: n });\n  }\n}\nconst _s = l(\"miniApp\", ({\n  themeParams: e,\n  botInline: t = !1,\n  state: s = {\n    bgColor: e.bgColor || \"#ffffff\",\n    headerColor: e.headerBgColor || \"#000000\"\n  },\n  ...n\n}) => new Oe({ ...n, ...s, botInline: t }));\nfunction Ue(e) {\n  const t = e.message.trim(), s = (e.title || \"\").trim(), n = e.buttons || [];\n  let r;\n  if (s.length > 64)\n    throw new Error(`Title has incorrect size: ${s.length}`);\n  if (!t.length || t.length > 256)\n    throw new Error(`Message has incorrect size: ${t.length}`);\n  if (n.length > 3)\n    throw new Error(`Buttons have incorrect size: ${n.length}`);\n  return n.length ? r = n.map((i) => {\n    const { id: o = \"\" } = i;\n    if (o.length > 64)\n      throw new Error(`Button ID has incorrect size: ${o}`);\n    if (!i.type || i.type === \"default\" || i.type === \"destructive\") {\n      const a = i.text.trim();\n      if (!a.length || a.length > 64) {\n        const p = i.type || \"default\";\n        throw new Error(`Button text with type \"${p}\" has incorrect size: ${i.text.length}`);\n      }\n      return { ...i, text: a, id: o };\n    }\n    return { ...i, id: o };\n  }) : r = [{ type: \"close\", id: \"\" }], { title: s, message: t, buttons: r };\n}\nclass We extends q {\n  constructor(t, s, n) {\n    super({ isOpened: t }, s, { open: \"web_app_open_popup\" }), this.postEvent = n;\n  }\n  set isOpened(t) {\n    this.set(\"isOpened\", t);\n  }\n  /**\n   * True if the Popup is opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  /**\n   * A method that shows a native popup described by the `params` argument.\n   * Promise will be resolved when popup is closed. Resolved value will have\n   * an identifier of pressed button.\n   *\n   * In case, user clicked outside the popup or clicked top right popup close\n   * button, null will be returned.\n   *\n   * @param options - popup parameters.\n   * @throws {Error} Popup is already opened.\n   */\n  async open(t) {\n    if (this.isOpened)\n      throw new Error(\"Popup is already opened.\");\n    this.isOpened = !0;\n    try {\n      const { button_id: s = null } = await f({\n        event: \"popup_closed\",\n        method: \"web_app_open_popup\",\n        postEvent: this.postEvent,\n        params: Ue(t)\n      });\n      return s;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst fs = l(\n  ({ postEvent: e, version: t }) => new We(!1, t, e)\n);\nclass He extends q {\n  constructor(t, s, n) {\n    super({ isOpened: t }, s, {\n      close: \"web_app_close_scan_qr_popup\",\n      open: \"web_app_open_scan_qr_popup\"\n    }), this.postEvent = n;\n  }\n  /**\n   * Closes scanner.\n   */\n  close() {\n    this.postEvent(\"web_app_close_scan_qr_popup\"), this.isOpened = !1;\n  }\n  set isOpened(t) {\n    this.set(\"isOpened\", t);\n  }\n  /**\n   * Returns true in case, QR scanner is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  /**\n   * Opens scanner with specified title shown to user. Method returns promise\n   * with scanned QR content in case, it was scanned. It will contain null in\n   * case, scanner was closed.\n   * @param text - title to display.\n   */\n  async open(t) {\n    if (this.isOpened)\n      throw new Error(\"QR scanner is already opened.\");\n    this.isOpened = !0;\n    try {\n      return (await f({\n        method: \"web_app_open_scan_qr_popup\",\n        event: [\"qr_text_received\", \"scan_qr_popup_closed\"],\n        postEvent: this.postEvent,\n        params: { text: t }\n      }) || {}).data || null;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst gs = l(\n  ({ version: e, postEvent: t }) => new He(!1, e, t)\n);\nclass Ge extends X {\n  constructor(s, n, r) {\n    super({ isVisible: s }, n, {\n      show: \"web_app_setup_settings_button\",\n      hide: \"web_app_setup_settings_button\"\n    });\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (s, n) => s === \"click\" ? b(\"settings_button_pressed\", n) : this.state.on(s, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (s, n) => s === \"click\" ? B(\"settings_button_pressed\", n) : this.state.off(s, n));\n    this.postEvent = r;\n  }\n  set isVisible(s) {\n    this.set(\"isVisible\", s), this.postEvent(\"web_app_setup_settings_button\", { is_visible: s });\n  }\n  /**\n   * True if the SettingsButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the SettingsButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the SettingsButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nconst bs = l(\"settingsButton\", ({\n  version: e,\n  postEvent: t,\n  state: s = { isVisible: !1 }\n}) => new Ge(s.isVisible, e, t));\nfunction Nt(e) {\n  return Pt().parse(e);\n}\nclass je extends tt {\n  /**\n   * @since v6.10\n   */\n  get accentTextColor() {\n    return this.get(\"accentTextColor\");\n  }\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  get buttonColor() {\n    return this.get(\"buttonColor\");\n  }\n  get buttonTextColor() {\n    return this.get(\"buttonTextColor\");\n  }\n  get destructiveTextColor() {\n    return this.get(\"destructiveTextColor\");\n  }\n  /**\n   * Returns the copy of the internal state of the current component instance.\n   */\n  getState() {\n    return this.clone();\n  }\n  /**\n   * @since v6.10\n   */\n  get headerBgColor() {\n    return this.get(\"headerBgColor\");\n  }\n  get hintColor() {\n    return this.get(\"hintColor\");\n  }\n  /**\n   * @returns True in case, current color scheme is recognized as dark. This\n   * value is calculated according to theme bg color.\n   */\n  get isDark() {\n    return !this.bgColor || mt(this.bgColor);\n  }\n  get linkColor() {\n    return this.get(\"linkColor\");\n  }\n  get secondaryBgColor() {\n    return this.get(\"secondaryBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionBgColor() {\n    return this.get(\"sectionBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionHeaderTextColor() {\n    return this.get(\"sectionHeaderTextColor\");\n  }\n  /**\n   * Starts listening to the external theme changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return b(\"theme_changed\", (t) => {\n      this.set(Nt(t.theme_params));\n    });\n  }\n  /**\n   * @since v6.10\n   */\n  get subtitleTextColor() {\n    return this.get(\"subtitleTextColor\");\n  }\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n}\nconst ws = l(\"themeParams\", ({ themeParams: e, state: t = e }) => {\n  const s = new je(t);\n  return E() || s.listen(), s;\n});\nfunction ms(e = {}) {\n  return f({\n    ...e,\n    method: \"web_app_request_theme\",\n    event: \"theme_changed\"\n  }).then(Nt);\n}\nclass ze extends et {\n  constructor(s, n, r) {\n    super(s, { readTextFromClipboard: \"web_app_read_text_from_clipboard\" });\n    /**\n     * Checks if specified method parameter is supported by current component.\n     */\n    c(this, \"supportsParam\");\n    this.version = s, this.createRequestId = n, this.postEvent = r, this.supportsParam = kt(s, {\n      \"openLink.tryInstantView\": [\"web_app_open_link\", \"try_instant_view\"]\n    });\n  }\n  /**\n   * Opens a link in an external browser. The Mini App will not be closed.\n   *\n   * Note that this method can be called only in response to the user\n   * interaction with the Mini App interface (e.g. click inside the Mini App\n   * or on the main button).\n   * @param url - URL to be opened.\n   * @param tryInstantView\n   */\n  openLink(s, n) {\n    const r = new URL(s, window.location.href).toString();\n    if (!v(\"web_app_open_link\", this.version)) {\n      window.open(r, \"_blank\");\n      return;\n    }\n    this.postEvent(\"web_app_open_link\", {\n      url: r,\n      ...typeof n == \"boolean\" ? { try_instant_view: n } : {}\n    });\n  }\n  /**\n   * Opens a Telegram link inside Telegram app. The Mini App will be closed. It expects passing\n   * link in full format, with hostname \"t.me\".\n   * @param url - URL to be opened.\n   * @throws {Error} URL has not allowed hostname.\n   */\n  openTelegramLink(s) {\n    const { hostname: n, pathname: r, search: i } = new URL(s, window.location.href);\n    if (n !== \"t.me\")\n      throw new Error(`URL has not allowed hostname: ${n}. Only \"t.me\" is allowed`);\n    if (!v(\"web_app_open_tg_link\", this.version)) {\n      window.location.href = s;\n      return;\n    }\n    this.postEvent(\"web_app_open_tg_link\", { path_full: r + i });\n  }\n  /**\n   * Reads text from clipboard and returns string or null. null is returned\n   * in cases:\n   * - Value in clipboard is not text\n   * - Access to clipboard is not allowed\n   */\n  async readTextFromClipboard() {\n    const s = this.createRequestId(), {\n      data: n = null\n    } = await f({\n      method: \"web_app_read_text_from_clipboard\",\n      event: \"clipboard_text_received\",\n      postEvent: this.postEvent,\n      params: { req_id: s },\n      capture: gt(s)\n    });\n    return n;\n  }\n}\nconst ys = l(\n  ({ version: e, postEvent: t, createRequestId: s }) => new ze(e, s, t)\n);\nasync function Dt(e = {}) {\n  const {\n    is_expanded: t,\n    is_state_stable: s,\n    ...n\n  } = await f({\n    ...e,\n    method: \"web_app_request_viewport\",\n    event: \"viewport_changed\"\n  });\n  return { ...n, isExpanded: t, isStateStable: s };\n}\nfunction x(e) {\n  return e < 0 ? 0 : e;\n}\nclass Vt extends tt {\n  constructor({ postEvent: s, stableHeight: n, height: r, width: i, isExpanded: o }) {\n    super({\n      height: x(r),\n      isExpanded: o,\n      stableHeight: x(n),\n      width: x(i)\n    });\n    c(this, \"postEvent\");\n    this.postEvent = s;\n  }\n  /**\n   * Requests viewport information from the Telegram application and updates current Viewport\n   * instance.\n   * @param options - options to request fresh data.\n   */\n  async sync(s) {\n    const { isStateStable: n, ...r } = await Dt(s);\n    this.set({\n      ...r,\n      stableHeight: n ? r.height : this.get(\"stableHeight\")\n    });\n  }\n  /**\n   * The current height of the **visible area** of the Mini App.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the bot can do the same by calling `expand` method. As the position of\n   * the Mini App changes, the current height value of the visible area will be updated  in real\n   * time.\n   *\n   * Please note that the refresh rate of this value is not sufficient to smoothly follow the\n   * lower border of the window. It should not be used to pin interface elements to the bottom\n   * of the visible area. It's more appropriate to use the value of the `stableHeight`\n   * field for this purpose.\n   *\n   * @see stableHeight\n   */\n  get height() {\n    return this.get(\"height\");\n  }\n  /**\n   * The height of the visible area of the Mini App in its last stable state.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the application can do the same by calling `expand` method.\n   *\n   * Unlike the value of `height`, the value of `stableHeight` does not change as the position\n   * of the Mini App changes with user gestures or during animations. The value of `stableHeight`\n   * will be updated after all gestures and animations are completed and\n   * the Mini App reaches its final size.\n   *\n   * @see height\n   */\n  get stableHeight() {\n    return this.get(\"stableHeight\");\n  }\n  /**\n   * Starts listening to viewport changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return b(\"viewport_changed\", (s) => {\n      const {\n        height: n,\n        width: r,\n        is_expanded: i,\n        is_state_stable: o\n      } = s, a = x(n);\n      this.set({\n        height: a,\n        isExpanded: i,\n        width: x(r),\n        ...o ? { stableHeight: a } : {}\n      });\n    });\n  }\n  /**\n   * True if the Mini App is expanded to the maximum available height. Otherwise, if\n   * the Mini App occupies part of the screen and can be expanded to the full height using\n   * `expand` method.\n   * @see expand\n   */\n  get isExpanded() {\n    return this.get(\"isExpanded\");\n  }\n  /**\n   * Current visible area width.\n   */\n  get width() {\n    return this.get(\"width\");\n  }\n  /**\n   * A method that expands the Mini App to the maximum available height. To find out if the Mini\n   * App is expanded to the maximum height, refer to the value of the `isExpanded`.\n   * @see isExpanded\n   */\n  expand() {\n    this.postEvent(\"web_app_expand\"), this.set(\"isExpanded\", !0);\n  }\n  /**\n   * True if the current viewport height is stable and is not going to change in the next moment.\n   */\n  get isStable() {\n    return this.stableHeight === this.height;\n  }\n}\nasync function Fe(e, t = {}) {\n  const {\n    height: s,\n    width: n,\n    isExpanded: r,\n    isStateStable: i\n  } = await Dt({ ...t, postEvent: e });\n  return new Vt({\n    postEvent: e,\n    height: s,\n    width: n,\n    isExpanded: r,\n    stableHeight: i ? s : 0\n  });\n}\nfunction Je({\n  state: e,\n  platform: t,\n  postEvent: s\n}) {\n  let n = !1, r = 0, i = 0, o = 0;\n  return e ? (n = e.isExpanded, r = e.height, i = e.width, o = e.stableHeight) : [\"macos\", \"tdesktop\", \"unigram\", \"webk\", \"weba\", \"web\"].includes(t) && (n = !0, r = window.innerHeight, i = window.innerWidth, o = window.innerHeight), new Vt({\n    postEvent: s,\n    height: r,\n    width: i,\n    stableHeight: o,\n    isExpanded: n\n  });\n}\nconst vs = l(\n  \"viewport\",\n  async (e) => {\n    if (E() && !e.state)\n      throw u(\n        J,\n        \"Viewport cannot be instantiated on the server side without passing the ssr.state object.\"\n      );\n    let t = Je(e);\n    return E() || (t.width === 0 && await Fe(e.postEvent, { timeout: 1e3 }).then((s) => t = s).catch((s) => D.error(\"Unable to sync viewport state\", s)), t.listen()), t;\n  }\n);\nfunction m(e, t) {\n  document.documentElement.style.setProperty(e, t);\n}\nfunction Es(e, t, s) {\n  s || (s = (a) => `--tg-${a}-color`);\n  const n = s(\"header\"), r = s(\"bg\"), i = () => {\n    const { headerColor: a } = e;\n    if (Y(a))\n      m(n, a);\n    else {\n      const { bgColor: p, secondaryBgColor: d } = t;\n      a === \"bg_color\" && p ? m(n, p) : a === \"secondary_bg_color\" && d && m(n, d);\n    }\n    m(r, e.bgColor);\n  }, o = [\n    t.on(\"change\", i),\n    e.on(\"change\", i)\n  ];\n  return i(), () => o.forEach((a) => a());\n}\nfunction Ps(e, t) {\n  t || (t = (n) => `--tg-theme-${n.replace(/[A-Z]/g, (r) => `-${r.toLowerCase()}`)}`);\n  const s = () => {\n    Object.entries(e.getState()).forEach(([n, r]) => {\n      r && m(t(n), r);\n    });\n  };\n  return s(), e.on(\"change\", s);\n}\nfunction Ss(e, t) {\n  t || (t = (d) => `--tg-viewport-${d}`);\n  const [\n    s,\n    n,\n    r\n  ] = [\"height\", \"width\", \"stable-height\"].map((d) => t(d)), i = () => m(s, `${e.height}px`), o = () => m(n, `${e.width}px`), a = () => m(r, `${e.stableHeight}px`), p = [\n    e.on(\"change:height\", i),\n    e.on(\"change:width\", o),\n    e.on(\"change:stableHeight\", a)\n  ];\n  return i(), o(), a(), () => p.forEach((d) => d());\n}\nfunction xs(e = !0) {\n  const t = [\n    b(\"reload_iframe\", () => {\n      T(\"iframe_will_reload\"), window.location.reload();\n    })\n  ], s = () => t.forEach((n) => n());\n  if (e) {\n    const n = document.createElement(\"style\");\n    n.id = \"telegram-custom-styles\", document.head.appendChild(n), t.push(\n      b(\"set_custom_style\", (r) => {\n        n.innerHTML = r;\n      }),\n      () => document.head.removeChild(n)\n    );\n  }\n  return T(\"iframe_ready\", { reload_supported: !0 }), s;\n}\nasync function Rs() {\n  if (_t(window))\n    return !0;\n  try {\n    return await f({ method: \"web_app_request_theme\", event: \"theme_changed\", timeout: 100 }), !0;\n  } catch {\n    return !1;\n  }\n}\nfunction Qe(e) {\n  return e instanceof $;\n}\nfunction Cs(e, t) {\n  return Qe(e) && e.type === t;\n}\nfunction O(e, t) {\n  let s, n, r;\n  return typeof e == \"string\" ? s = e : (s = e.pathname === void 0 ? t : e.pathname, n = e.params, r = e.id), Object.freeze({\n    id: r || (Math.random() * 2 ** 14 | 0).toString(16),\n    pathname: s,\n    params: n\n  });\n}\nclass Ye {\n  constructor(t, s, n = T) {\n    /**\n     * Navigation history.\n     */\n    c(this, \"history\");\n    c(this, \"ee\", new V());\n    /**\n     * True, if current navigator is currently attached.\n     */\n    c(this, \"attached\", !1);\n    /**\n     * Goes to the previous history item.\n     */\n    c(this, \"back\", () => this.go(-1));\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    if (this._index = s, this.postEvent = n, t.length === 0)\n      throw u(Qt, \"History should not be empty.\");\n    if (s < 0 || s >= t.length)\n      throw u(\n        Yt,\n        \"Index should not be zero and higher or equal than history size.\"\n      );\n    this.history = t.map((r) => O(r, \"\"));\n  }\n  /**\n   * Allows this navigator to control the `BackButton` visibility state. It also tracks the\n   * `BackButton` clicks and calls the `back` method.\n   */\n  attach() {\n    this.attached || (this.attached = !0, this.sync(), b(\"back_button_pressed\", this.back));\n  }\n  /**\n   * Currently active history item.\n   */\n  get current() {\n    return this.history[this.index];\n  }\n  /**\n   * Prevents current navigator from controlling the BackButton visibility state.\n   */\n  detach() {\n    this.attached = !1, B(\"back_button_pressed\", this.back);\n  }\n  /**\n   * Goes to the next history item.\n   */\n  forward() {\n    this.go(1);\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(t, s) {\n    const n = this.index + t, r = Math.min(\n      Math.max(0, n),\n      this.history.length - 1\n    );\n    (n === r || s) && this.replaceAndMove(r, this.history[r]);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(t, s) {\n    this.go(t - this.index, s);\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.index > 0;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.index !== this.history.length - 1;\n  }\n  /**\n   * Currently active history item index.\n   */\n  get index() {\n    return this._index;\n  }\n  /**\n   * Adds a new history item removing all after the current one.\n   * @param item - item to add.\n   */\n  push(t) {\n    this.hasNext && this.history.splice(this.index + 1), this.replaceAndMove(this.index + 1, O(t, this.current.pathname));\n  }\n  /**\n   * Replaces the current history item.\n   * @param item - item to replace the current item with.\n   */\n  replace(t) {\n    this.replaceAndMove(this.index, O(t, this.current.pathname));\n  }\n  /**\n   * Sets history item by the specified index.\n   * @param index - history item index to replace.\n   * @param historyItem - history item to set.\n   */\n  replaceAndMove(t, s) {\n    const n = t - this.index;\n    if (!n && this.current === s)\n      return;\n    const r = this.current;\n    if (this.index !== t) {\n      const i = this._index;\n      this._index = t, this.attached && i > 0 != t > 0 && this.sync();\n    }\n    this.history[t] = s, this.ee.emit(\"change\", {\n      navigator: this,\n      from: r,\n      to: this.current,\n      delta: n\n    });\n  }\n  /**\n   * Actualizes the `BackButton` visibility state.\n   */\n  sync() {\n    this.postEvent(\"web_app_setup_back_button\", { is_visible: !!this.index });\n  }\n}\nfunction U({\n  params: e,\n  ...t\n}) {\n  return { ...e || { hash: \"\", search: \"\" }, ...t };\n}\nfunction A(e, t) {\n  return e.startsWith(t) ? e : `${t}${e}`;\n}\nfunction k(e) {\n  return new URL(\n    typeof e == \"string\" ? e : `${e.pathname || \"\"}${A(e.search || \"\", \"?\")}${A(e.hash || \"\", \"#\")}`,\n    \"http://a\"\n  );\n}\nfunction N(e) {\n  const t = typeof e == \"string\" ? e.startsWith(\"/\") : !!(e.pathname && e.pathname.startsWith(\"/\")), s = k(e);\n  return `${t ? s.pathname : s.pathname.slice(1)}${s.search}${s.hash}`;\n}\nfunction W(e, t, s) {\n  let n, r;\n  typeof e == \"string\" ? n = e : (n = N(e), s = e.state, r = e.id);\n  const { pathname: i, search: o, hash: a } = new URL(n, `http://a${A(t, \"/\")}`);\n  return { id: r, pathname: i, params: { hash: a, search: o, state: s } };\n}\nasync function C(e) {\n  return e === 0 ? !0 : Promise.race([\n    new Promise((t) => {\n      const s = z(\"popstate\", () => {\n        s(), t(!0);\n      });\n      window.history.go(e);\n    }),\n    // Usually, it takes about 1ms to emit this event, but we use some buffer.\n    new Promise((t) => {\n      setTimeout(t, 50, !1);\n    })\n  ]);\n}\nasync function Ze() {\n  if (window.history.length <= 1 || (window.history.pushState(null, \"\"), await C(1 - window.history.length)))\n    return;\n  let t = await C(-1);\n  for (; t; )\n    t = await C(-1);\n}\nfunction $t(e) {\n  return k(e).pathname;\n}\nconst at = 0, H = 1, G = 2;\nclass Mt {\n  constructor(t, s, { postEvent: n, hashMode: r, base: i } = {}) {\n    c(this, \"navigator\");\n    c(this, \"ee\", new V());\n    c(this, \"hashMode\");\n    c(this, \"base\");\n    /**\n     * Shows whether the navigator is currently attached to the browser history.\n     */\n    c(this, \"attached\", !1);\n    /**\n     * Handles the window \"popstate\" event.\n     * @param state - event state.\n     */\n    c(this, \"onPopState\", ({ state: t }) => {\n      if (t === null)\n        return this.push(this.parsePath(window.location.href));\n      t === at ? window.history.forward() : t === H && this.back(), t === G && this.forward();\n    });\n    /**\n     * Underlying navigator change event listener.\n     */\n    c(this, \"onNavigatorChange\", async ({\n      to: t,\n      from: s,\n      delta: n\n    }) => {\n      this.attached && await this.syncHistory(), this.ee.emit(\"change\", {\n        delta: n,\n        from: U(s),\n        to: U(t),\n        navigator: this\n      });\n    });\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    this.navigator = new Ye(\n      t.map((o) => W(o, \"/\")),\n      s,\n      n\n    ), this.navigator.on(\"change\", this.onNavigatorChange), this.hashMode = r, this.base = $t(i || \"\");\n  }\n  /**\n   * Attaches current navigator to the browser history allowing navigator to manipulate it.\n   */\n  async attach() {\n    this.attached || (this.attached = !0, this.navigator.attach(), window.addEventListener(\"popstate\", this.onPopState), await this.syncHistory());\n  }\n  /**\n   * Goes back in history by 1.\n   */\n  back() {\n    this.navigator.back();\n  }\n  /**\n   * Detaches current navigator from the browser history.\n   */\n  detach() {\n    this.attached = !1, this.navigator.detach(), window.removeEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Goes forward in history.\n   */\n  forward() {\n    return this.navigator.forward();\n  }\n  /**\n   * Current history cursor.\n   */\n  get index() {\n    return this.navigator.index;\n  }\n  /**\n   * Current history item identifier.\n   */\n  get id() {\n    return this.navigator.current.id;\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(t, s) {\n    return this.navigator.go(t, s);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(t, s) {\n    this.navigator.goTo(t, s);\n  }\n  /**\n   * Current history item hash.\n   * @see URL.hash\n   * @example\n   * \"\", \"#my-hash\"\n   */\n  get hash() {\n    return (this.navigator.current.params || {}).hash || \"\";\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.navigator.hasPrev;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.navigator.hasNext;\n  }\n  /**\n   * Navigation history.\n   */\n  get history() {\n    return this.navigator.history.map(U);\n  }\n  /**\n   * Path, including pathname, search and hash.\n   * @example Pathname only.\n   * \"/pathname\"\n   * @example Pathname + search.\n   * \"/pathname?search\"\n   * @example Pathname + hash.\n   * \"/pathname#hash\"\n   * @example Pathname + search + hash.\n   * \"/pathname?search#hash\"\n   */\n  get path() {\n    return N(this);\n  }\n  /**\n   * Current pathname. Always starts with the slash.\n   * @see URL.pathname\n   * @example\n   * \"/\", \"/abc\"\n   */\n  get pathname() {\n    return this.navigator.current.pathname;\n  }\n  /**\n   * Depending on the current navigation type, parses incoming path and returns it presented as\n   * an object. In other words, this method parses the passed path and returns object, describing\n   * how the navigator \"sees\" it.\n   *\n   * @example Hash mode is omitted.\n   * parsePath('/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   * parsePath('http://example.com/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   *\n   * @example Hash mode is enabled.\n   * parsePath('/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   * parsePath('http://example.com/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   */\n  parsePath(t) {\n    let s = k(t);\n    return this.hashMode && (s = k(s.hash.slice(1))), {\n      pathname: s.pathname,\n      search: s.search,\n      hash: s.hash\n    };\n  }\n  push(t, s) {\n    const n = W(t, this.path), { state: r = s } = n.params;\n    this.navigator.push({ ...n, params: { ...n.params, state: r } });\n  }\n  replace(t, s) {\n    const n = W(t, this.path), { state: r = s } = n.params;\n    this.navigator.replace({ ...n, params: { ...n.params, state: r } });\n  }\n  /**\n   * Combines the navigator `base` property with the passed path data applying the navigator\n   * navigation mode.\n   * @param value - path presented as string or URLLike.\n   */\n  renderPath(t) {\n    const s = (this.base.length === 1 ? \"\" : this.base) + A(N(t), \"/\");\n    return this.hashMode ? A(s.slice(1), this.hashMode === \"default\" ? \"#\" : \"#/\") : s;\n  }\n  /**\n   * Synchronizes current navigator state with browser history.\n   */\n  async syncHistory() {\n    window.removeEventListener(\"popstate\", this.onPopState);\n    const { state: t } = this, s = this.renderPath(this);\n    await Ze(), this.hasPrev && this.hasNext ? (window.history.replaceState(H, \"\"), window.history.pushState(t, \"\", s), window.history.pushState(G, \"\"), await C(-1)) : this.hasPrev ? (window.history.replaceState(H, \"\"), window.history.pushState(t, \"\", s)) : this.hasNext ? (window.history.replaceState(t, s), window.history.pushState(G, \"\"), await C(-1)) : (window.history.replaceState(at, \"\"), window.history.pushState(t, \"\", s)), window.addEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Current query parameters.\n   * @see URL.search\n   * @example\n   * \"\", \"?\", \"?a=1\"\n   */\n  get search() {\n    return (this.navigator.current.params || {}).search || \"\";\n  }\n  /**\n   * Current history item state.\n   */\n  get state() {\n    return (this.navigator.current.params || {}).state;\n  }\n}\nfunction Xe(e) {\n  e || (e = {});\n  const { href: t, hash: s } = window.location;\n  let n = N(\n    e.hashMode ? s.includes(\"?\") ? s.slice(1) : `?${s.slice(1)}` : t\n  );\n  const r = e.base ? $t(e.base) : void 0;\n  if (r) {\n    if (!n.startsWith(r))\n      throw u(\n        Xt,\n        `Path \"${n}\" expected to be starting with \"${r}\"`\n      );\n    n = n.slice(r.length);\n  }\n  return new Mt([n], 0, e);\n}\nfunction Ts(e) {\n  const t = e.match(/#(.+)/);\n  return t ? t[1] : null;\n}\nfunction Ke(e, t) {\n  if (It()) {\n    const s = sessionStorage.getItem(e);\n    if (s)\n      try {\n        const { index: n, history: r } = JSON.parse(s);\n        return new Mt(r, n, t);\n      } catch (n) {\n        console.error(\"Unable to restore hash navigator state.\", n);\n      }\n  }\n  return Xe(t);\n}\nfunction As(e, t) {\n  const s = Ke(e, t), n = () => sessionStorage.setItem(e, JSON.stringify({\n    index: s.index,\n    history: s.history\n  }));\n  return s.on(\"change\", n), n(), s;\n}\nexport {\n  fe as BackButton,\n  Ye as BasicNavigator,\n  it as BiometryManager,\n  Mt as BrowserNavigator,\n  Ae as ClosingBehavior,\n  Ne as CloudStorage,\n  Xt as ERR_INVALID_PATH_BASE,\n  zt as ERR_INVOKE_CUSTOM_METHOD_RESPONSE,\n  Gt as ERR_METHOD_PARAMETER_UNSUPPORTED,\n  Ht as ERR_METHOD_UNSUPPORTED,\n  Qt as ERR_NAVIGATION_HISTORY_EMPTY,\n  Yt as ERR_NAVIGATION_INDEX_INVALID,\n  ss as ERR_NAVIGATION_ITEM_INVALID,\n  pt as ERR_PARSE,\n  J as ERR_SSR_INIT,\n  Zt as ERR_SSR_POST_EVENT,\n  Ft as ERR_TIMED_OUT,\n  Jt as ERR_UNEXPECTED_TYPE,\n  jt as ERR_UNKNOWN_ENV,\n  V as EventEmitter,\n  De as HapticFeedback,\n  Ve as InitData,\n  $e as Invoice,\n  Me as MainButton,\n  Oe as MiniApp,\n  We as Popup,\n  He as QRScanner,\n  $ as SDKError,\n  Ge as SettingsButton,\n  je as ThemeParams,\n  ze as Utils,\n  Vt as Viewport,\n  ke as array,\n  Es as bindMiniAppCSSVars,\n  Ps as bindThemeParamsCSSVars,\n  Ss as bindViewportCSSVars,\n  w as boolean,\n  gt as captureSameReq,\n  F as classNames,\n  he as compareVersions,\n  Xe as createBrowserNavigatorFromLocation,\n  de as createPostEvent,\n  k as createSafeURL,\n  vt as date,\n  Ts as getHash,\n  $t as getPathname,\n  is as initBackButton,\n  os as initBiometryManager,\n  as as initClosingBehavior,\n  cs as initCloudStorage,\n  hs as initHapticFeedback,\n  ps as initInitData,\n  ls as initInvoice,\n  ds as initMainButton,\n  _s as initMiniApp,\n  As as initNavigator,\n  fs as initPopup,\n  gs as initQRScanner,\n  bs as initSettingsButton,\n  ws as initThemeParams,\n  ys as initUtils,\n  vs as initViewport,\n  xs as initWeb,\n  R as invokeCustomMethod,\n  mt as isColorDark,\n  ue as isIframe,\n  It as isPageReload,\n  Y as isRGB,\n  Kt as isRGBShort,\n  Qe as isSDKError,\n  Cs as isSDKErrorOfType,\n  E as isSSR,\n  Rs as isTMA,\n  _ as json,\n  rs as mergeClassNames,\n  y as number,\n  B as off,\n  b as on,\n  us as parseInitData,\n  St as parseLaunchParams,\n  Nt as parseThemeParams,\n  T as postEvent,\n  f as request,\n  Te as requestBiometryInfo,\n  ms as requestThemeParams,\n  Dt as requestViewport,\n  xe as retrieveLaunchParams,\n  dt as rgb,\n  K as searchParams,\n  Pe as serializeLaunchParams,\n  Ee as serializeThemeParams,\n  m as setCSSVar,\n  es as setDebug,\n  ns as setTargetOrigin,\n  h as string,\n  Ot as subscribe,\n  v as supports,\n  le as targetOrigin,\n  lt as toRGB,\n  ht as unsubscribe,\n  N as urlToPath,\n  wt as withTimeout\n};\n//# sourceMappingURL=index.js.map\n","import { type Component, mergeProps } from 'solid-js';\nimport type { PartialBy } from '@tma.js/sdk';\n\nimport type { Hook } from './createHook.js';\n\nexport interface HOC<H extends Hook<any>> {\n  <PropKey extends string, Props extends { [K in PropKey]: ReturnType<H> }>(\n    prop: PropKey,\n    Component: Component<Props>,\n    ...args: Parameters<H>\n  ): Component<PartialBy<Props, PropKey>>;\n}\n\n/**\n * Based on the passed hook, creates function returning HOC. Created HOC passes hook result\n * to the wrapped component.\n * @param hook - hook returning component.\n */\nexport function createHOC<H extends Hook<any>>(hook: H): HOC<H> {\n  return (prop, Component, ...args) => {\n    return (props) => {\n      return <Component {...mergeProps({ [prop]: hook(...args) }, props) as any}/>;\n    };\n  };\n}\n","import { createContext, useContext } from 'solid-js';\n\nimport type { SDKContextType } from './SDKProvider.types.js';\n\nexport const SDKContext = createContext<SDKContextType>();\n\n/**\n * @throws Error useSDK was used outside SDKProvider.\n * @returns Function to register a factory.\n */\nexport function useSDK(): SDKContextType {\n  const context = useContext(SDKContext);\n  if (!context) {\n    throw new Error('useSDK was used outside of SDKProvider.');\n  }\n  return context;\n}\n","import { AnyFn } from '@tma.js/sdk';\n\nimport { useSDK } from './SDKProvider/SDKContext.js';\nimport { SDKContextItem } from './SDKProvider/SDKProvider.types.js';\n\nexport interface Hook<Factory extends AnyFn> {\n  (...args: Parameters<Factory>): SDKContextItem<Factory>;\n}\n\n/**\n * Creates new hook, which firstly attempts to extract a value from the SDK context. In case,\n * value is missing, it uses the passed component factory, creates a component, subscribes\n * to its changes if required, and returns its reactive copy.\n * @param fn\n */\nexport function createHook<Fn extends AnyFn>(fn: Fn): Hook<Fn> {\n  return (...args) => useSDK()(fn, ...args);\n}\n","import { initBackButton } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the BackButton component instance.\n */\nexport const useBackButton = createHook(initBackButton);\n\n/**\n * HOC to pass the BackButton component instance to the wrapped component.\n */\nexport const withBackButton = createHOC(useBackButton);\n","import { initBiometryManager } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the BiometryManager component instance.\n */\nexport const useBiometryManager = createHook(initBiometryManager);\n\n/**\n * HOC to pass the BiometryManager component instance to the wrapped component.\n */\nexport const withBiometryManager = createHOC(useBiometryManager);\n","import { initClosingBehavior } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the ClosingBehavior component instance.\n */\nexport const useClosingBehavior = createHook(initClosingBehavior);\n\n/**\n * HOC to pass the ClosingBehavior component instance to the wrapped component.\n */\nexport const withClosingBehavior = createHOC(useClosingBehavior);\n","import { initCloudStorage } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the CloudStorage component instance.\n */\nexport const useCloudStorage = createHook(initCloudStorage);\n\n/**\n * HOC to pass the CloudStorage component instance to the wrapped component.\n */\nexport const withCloudStorage = createHOC(useCloudStorage);\n","import { initHapticFeedback } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the HapticFeedback component instance.\n */\nexport const useHapticFeedback = createHook(initHapticFeedback);\n\n/**\n * HOC to pass the HapticFeedback component instance to the wrapped component.\n */\nexport const withHapticFeedback = createHOC(useHapticFeedback);\n","import { initInitData } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the InitData component instance.\n */\nexport const useInitData = createHook(initInitData);\n\n/**\n * HOC to pass the InitData component instance to the wrapped component.\n */\nexport const withInitData = createHOC(useInitData);\n","import { initInvoice } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the Invoice component instance.\n */\nexport const useInvoice = createHook(initInvoice);\n\n/**\n * HOC to pass the Invoice component instance to the wrapped component.\n */\nexport const withInvoice = createHOC(useInvoice);\n","import { initMainButton } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the MainButton component instance.\n */\nexport const useMainButton = createHook(initMainButton);\n\n/**\n * HOC to pass the MainButton component instance to the wrapped component.\n */\nexport const withMainButton = createHOC(useMainButton);\n","import { initMiniApp } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the MiniApp component instance.\n */\nexport const useMiniApp = createHook(initMiniApp);\n\n/**\n * HOC to pass the MiniApp component instance to the wrapped component.\n */\nexport const withMiniApp = createHOC(useMiniApp);\n","import { initPopup } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the Popup component instance.\n */\nexport const usePopup = createHook(initPopup);\n\n/**\n * HOC to pass the Popup component instance to the wrapped component.\n */\nexport const withPopup = createHOC(usePopup);\n","import { initQRScanner } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the QRScanner component instance.\n */\nexport const useQRScanner = createHook(initQRScanner);\n\n/**\n * HOC to pass the QRScanner component instance to the wrapped component.\n */\nexport const withQRScanner = createHOC(useQRScanner);\n","import { initSettingsButton } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the SettingsButton component instance.\n */\nexport const useSettingsButton = createHook(initSettingsButton);\n\n/**\n * HOC to pass the SettingsButton component instance to the wrapped component.\n */\nexport const withSettingsButton = createHOC(useSettingsButton);\n","import { initThemeParams } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the ThemeParams component instance.\n */\nexport const useThemeParams = createHook(initThemeParams);\n\n/**\n * HOC to pass the ThemeParams component instance to the wrapped component.\n */\nexport const withThemeParams = createHOC(useThemeParams);\n","import { initUtils } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the Utils component instance.\n */\nexport const useUtils = createHook(initUtils);\n\n/**\n * HOC to pass the Utils component instance to the wrapped component.\n */\nexport const withUtils = createHOC(useUtils);\n","import { initViewport } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the Viewport component instance.\n */\nexport const useViewport = createHook(initViewport);\n\n/**\n * HOC to pass the Viewport component instance to the wrapped component.\n */\nexport const withViewport = createHOC(useViewport);\n","import { AnyFn, initWeb, isIframe, setDebug } from '@tma.js/sdk';\nimport {\n  Accessor,\n  type Component,\n  createEffect,\n  createMemo,\n  createResource,\n  from,\n  onCleanup,\n} from 'solid-js';\n\nimport { SDKContext } from './SDKContext.js';\nimport {\n  SDKContextItem,\n  SDKContextType,\n  SDKProviderProps,\n} from './SDKProvider.types.js';\n\n/**\n * Provides access to SDK components and initializes some event listeners for the web version\n * of Telegram.\n */\nexport const SDKProvider: Component<SDKProviderProps> = (props) => {\n  const cache = new Map<AnyFn, SDKContextItem<AnyFn>>();\n\n  const use: SDKContextType = (factory, ...args) => {\n    // SDK context already has this value.\n    if (cache.has(factory)) {\n      return cache.get(factory)!;\n    }\n\n    // We are creating a resource as long as factory can sometimes return promise. For example,\n    // this may happen in case, factory initializes BiometryManager or Viewport.\n    const [resource] = createResource(() => {\n      try {\n        return factory(...args);\n      } catch (e) {\n        // Solid can't normally handle errors in a sync way. We need an error to be handled in\n        // the first frame and this was the only 1 way of doing it I found.\n        return [e];\n      }\n    });\n\n    // Signal, which returns computed resource value.\n    const getResource = createMemo(() => {\n      // Something went wrong, return an error.\n      if (resource.error) {\n        return [resource.error];\n      }\n\n      // The resource is loading, return nothing. This usually happens when the factory is async.\n      if (resource.state !== 'ready') {\n        return;\n      }\n\n      // Get a value, stored in the resource and check if it ended up with an error.\n      const value = resource();\n      if (Array.isArray(value)) {\n        return value;\n      }\n\n      // Factory may return undefined if it creates the InitData component, for example.\n      // The returned component may also not allow tracking its changes. It means, it cannot\n      // be reactive, we just this values as is.\n      if (!value || !('on' in value)) {\n        return value;\n      }\n\n      // Otherwise, we are making value reactive and track its changes.\n      const get = from((set) => {\n        set(value);\n        return value.on('change', () => set(value));\n      });\n\n      // We use this value to retrieve properties having getters. We assume, that if property has\n      // a getter, it must be reactive.\n      // NOTE: Yeah, it looks horrible, but I had no other way of doing this.\n      const prototype = Object.getPrototypeOf(value);\n\n      // Cache with already defined signals.\n      const propCache: Record<string | symbol, Accessor<any>> = {};\n\n      return new Proxy(value, {\n        get(target: any, property: string | symbol): any {\n          if (!(property in propCache)) {\n            const descriptor = Reflect.getOwnPropertyDescriptor(prototype, property);\n\n            // We receive descriptor, describing this property and check if it has getter. In\n            // case it does, we must make it reactive. Otherwise, we return real value behind\n            // this property.\n            propCache[property] = descriptor && ('get' in descriptor)\n              ? createMemo(() => (get() as any)[property])\n              : () => Reflect.get(target, property);\n          }\n          return propCache[property]();\n        },\n      });\n    });\n\n    // Define accessor.\n    function read() {\n      const v = getResource();\n      if (Array.isArray(v)) {\n        throw v[0];\n      }\n      return v;\n    }\n\n    // Define accessor \"error\" property.\n    Object.defineProperty(read, 'error', {\n      get() {\n        const v = getResource();\n        return Array.isArray(v) ? v[0] : undefined;\n      },\n    });\n\n    cache.set(factory, read);\n\n    return read;\n  }\n\n  // Effect, responsible for debug mode.\n  createEffect(() => {\n    setDebug(props.debug || false);\n  });\n\n  // Effect, responsible for initializing the app in the web version of Telegram.\n  createEffect(() => {\n    if (isIframe()) {\n      onCleanup(initWeb(props.acceptCustomStyles));\n    }\n  });\n\n  return <SDKContext.Provider value={use}>{props.children}</SDKContext.Provider>;\n};\n"],"names":["Lt","Bt","ct","ht","L","ce","Ut","D","j","nt","es","Wt","r","i","z","$","u","Ht","Gt","jt","zt","Ft","Jt","pt","Qt","Yt","ss","J","Zt","Xt","P","M","S","w","ut","Q","_","y","Y","Kt","lt","h","dt","te","ee","se","ne","re","ie","oe","ae","B","I","he","g","v","pe","_t","ue","ft","ns","le","de","gt","bt","wt","f","d","p","st","F","rs","mt","_e","o","Z","yt","X","s","n","fe","E","vt","K","ge","rt","Et","be","we","Pt","St","xt","me","Rt","ye","Ct","Tt","At","ve","Ee","Pe","Se","xe","It","Re","Ce","l","is","q","qt","it","Te","os","tt","Ae","as","et","Ie","qe","ke","ot","Ne","cs","De","hs","Ve","ps","us","$e","ls","Me","ds","Le","kt","Be","Oe","a","_s","Ue","We","fs","He","gs","Ge","bs","Nt","je","ws","ms","ze","ys","Dt","x","Vt","Fe","Je","vs","m","Es","Ps","Ss","xs","Rs","Qe","Cs","O","Ye","U","A","k","W","C","Ze","t","$t","at","H","G","Mt","Xe","Ts","Ke","As","createHOC","hook","prop","Component","args","props","_$createComponent","_$mergeProps","mergeProps","SDKContext","createContext","useSDK","context","useContext","createHook","fn","useBackButton","initBackButton","withBackButton","useBiometryManager","initBiometryManager","withBiometryManager","useClosingBehavior","initClosingBehavior","withClosingBehavior","useCloudStorage","initCloudStorage","withCloudStorage","useHapticFeedback","initHapticFeedback","withHapticFeedback","useInitData","initInitData","withInitData","useInvoice","initInvoice","withInvoice","useMainButton","initMainButton","withMainButton","useMiniApp","initMiniApp","withMiniApp","usePopup","initPopup","withPopup","useQRScanner","initQRScanner","withQRScanner","useSettingsButton","initSettingsButton","withSettingsButton","useThemeParams","initThemeParams","withThemeParams","useUtils","initUtils","withUtils","useViewport","initViewport","withViewport","SDKProvider","cache","Map","use","factory","has","get","resource","createResource","e","getResource","createMemo","error","state","value","Array","isArray","from","set","on","prototype","Object","getPrototypeOf","propCache","Proxy","target","property","descriptor","Reflect","getOwnPropertyDescriptor","read","defineProperty","undefined","createEffect","debug","isIframe","initWeb","acceptCustomStyles","Provider","children"],"mappings":"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"}