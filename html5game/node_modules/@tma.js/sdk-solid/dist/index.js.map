{"version":3,"file":"index.js","sources":["../../sdk/dist/index.js","../src/createHOC.tsx","../src/SDKProvider/SDKContext.ts","../src/createHook.ts","../src/hooks-hocs/back-button.ts","../src/hooks-hocs/biometry-manager.ts","../src/hooks-hocs/closing-behavior.ts","../src/hooks-hocs/cloud-storage.ts","../src/hooks-hocs/haptic-feedback.ts","../src/hooks-hocs/init-data.ts","../src/hooks-hocs/invoice.ts","../src/hooks-hocs/main-button.ts","../src/hooks-hocs/mini-app.ts","../src/hooks-hocs/popup.ts","../src/hooks-hocs/qr-scanner.ts","../src/hooks-hocs/settings-button.ts","../src/hooks-hocs/theme-params.ts","../src/hooks-hocs/utils.ts","../src/hooks-hocs/viewport.ts","../src/SDKProvider/SDKProvider.tsx"],"sourcesContent":["var Lt = Object.defineProperty;\nvar Bt = (e, t, s) => t in e ? Lt(e, t, { enumerable: !0, configurable: !0, writable: !0, value: s }) : e[t] = s;\nvar c = (e, t, s) => (Bt(e, typeof t != \"symbol\" ? t + \"\" : t, s), s);\nfunction ct(e, t) {\n  let s;\n  const n = () => {\n    s !== void 0 && t && t(s), s = void 0;\n  };\n  return [() => s === void 0 ? s = e(n) : s, n];\n}\nfunction ht(e) {\n  const t = L(), { count: s } = t;\n  t.unsubscribe(e), s && !t.count && ce();\n}\nfunction Ot(e) {\n  return L().subscribe(e), () => ht(e);\n}\nclass Ut {\n  constructor(t, s = {}) {\n    this.scope = t, this.options = s;\n  }\n  /**\n   * Prints message into a console in case, logger is currently enabled.\n   * @param level - log level.\n   * @param args - arguments.\n   */\n  print(t, ...s) {\n    const n = /* @__PURE__ */ new Date(), r = Intl.DateTimeFormat(\"en-GB\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      fractionalSecondDigits: 3,\n      timeZone: \"UTC\"\n    }).format(n), { textColor: i, bgColor: o } = this.options, a = \"font-weight: bold;padding: 0 5px;border-radius:5px\";\n    console[t](\n      `%c${r}%c / %c${this.scope}`,\n      `${a};background-color: lightblue;color:black`,\n      \"\",\n      `${a};${i ? `color:${i};` : \"\"}${o ? `background-color:${o}` : \"\"}`,\n      ...s\n    );\n  }\n  /**\n   * Prints error message into a console.\n   * @param args\n   */\n  error(...t) {\n    this.print(\"error\", ...t);\n  }\n  /**\n   * Prints log message into a console.\n   * @param args\n   */\n  log(...t) {\n    this.print(\"log\", ...t);\n  }\n}\nconst D = new Ut(\"SDK\", {\n  bgColor: \"forestgreen\",\n  textColor: \"white\"\n});\nlet j = !1;\nconst nt = ({ event: e, args: [t] }) => {\n  D.log(\"Event received:\", t === void 0 ? { name: e } : { name: e, data: t });\n};\nfunction es(e) {\n  j !== e && (j = e, e ? Ot(nt) : ht(nt));\n}\nfunction Wt(...e) {\n  j && D.log(...e);\n}\nclass V {\n  constructor() {\n    c(this, \"listeners\", /* @__PURE__ */ new Map());\n    c(this, \"listenersCount\", 0);\n    c(this, \"subscribeListeners\", []);\n  }\n  /**\n   * Removes all event listeners.\n   */\n  clear() {\n    this.listeners.clear(), this.subscribeListeners = [];\n  }\n  /**\n   * Returns count of bound listeners.\n   */\n  get count() {\n    return this.listenersCount + this.subscribeListeners.length;\n  }\n  emit(t, ...s) {\n    this.subscribeListeners.forEach((r) => r({\n      event: t,\n      args: s\n    })), (this.listeners.get(t) || []).forEach(([r, i]) => {\n      r(...s), i && this.off(t, r);\n    });\n  }\n  /**\n   * Adds new event listener.\n   * @param event - event name.\n   * @param listener - event listener.\n   * @param once - should listener be called only once.\n   * @returns Function to remove bound event listener.\n   */\n  on(t, s, n) {\n    let r = this.listeners.get(t);\n    return r || this.listeners.set(t, r = []), r.push([s, n]), this.listenersCount += 1, () => this.off(t, s);\n  }\n  /**\n   * Removes event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param event - event name.\n   * @param listener - event listener.\n   */\n  off(t, s) {\n    const n = this.listeners.get(t) || [];\n    for (let r = 0; r < n.length; r += 1)\n      if (s === n[r][0]) {\n        n.splice(r, 1), this.listenersCount -= 1;\n        return;\n      }\n  }\n  /**\n   * Adds a new event listener for all events.\n   * @param listener - event listener.\n   * @returns Function to remove event listener.\n   */\n  subscribe(t) {\n    return this.subscribeListeners.push(t), () => this.unsubscribe(t);\n  }\n  /**\n   * Removes global event listener. In case, specified listener was bound several times, it removes\n   * only a single one.\n   * @param listener - event listener.\n   */\n  unsubscribe(t) {\n    for (let s = 0; s < this.subscribeListeners.length; s += 1)\n      if (this.subscribeListeners[s] === t) {\n        this.subscribeListeners.splice(s, 1);\n        return;\n      }\n  }\n}\nfunction z(e, t, s) {\n  return window.addEventListener(e, t, s), () => window.removeEventListener(e, t, s);\n}\nclass $ extends Error {\n  constructor(t, s, n) {\n    super(s, { cause: n }), this.type = t, Object.setPrototypeOf(this, $.prototype);\n  }\n}\nfunction u(e, t, s) {\n  return new $(e, t, s);\n}\nconst Ht = \"ERR_METHOD_UNSUPPORTED\", Gt = \"ERR_METHOD_PARAMETER_UNSUPPORTED\", jt = \"ERR_UNKNOWN_ENV\", zt = \"ERR_INVOKE_CUSTOM_METHOD_RESPONSE\", Ft = \"ERR_TIMED_OUT\", Jt = \"ERR_UNEXPECTED_TYPE\", pt = \"ERR_PARSE\", Qt = \"ERR_NAVIGATION_LIST_EMPTY\", Yt = \"ERR_NAVIGATION_CURSOR_INVALID\", ss = \"ERR_NAVIGATION_ITEM_INVALID\", J = \"ERR_SSR_INIT\", Zt = \"ERR_SSR_POST_EVENT\", Xt = \"ERR_INVALID_PATH_BASE\";\nfunction P() {\n  return u(Jt, \"Value has unexpected type\");\n}\nclass M {\n  constructor(t, s, n) {\n    this.parser = t, this.isOptional = s, this.type = n;\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(t) {\n    if (!(this.isOptional && t === void 0))\n      try {\n        return this.parser(t);\n      } catch (s) {\n        throw u(\n          pt,\n          `Unable to parse value${this.type ? ` as ${this.type}` : \"\"}`,\n          s\n        );\n      }\n  }\n  optional() {\n    return this.isOptional = !0, this;\n  }\n}\nfunction S(e, t) {\n  return () => new M(e, !1, t);\n}\nconst w = S((e) => {\n  if (typeof e == \"boolean\")\n    return e;\n  const t = String(e);\n  if (t === \"1\" || t === \"true\")\n    return !0;\n  if (t === \"0\" || t === \"false\")\n    return !1;\n  throw P();\n}, \"boolean\");\nfunction ut(e, t) {\n  const s = {};\n  for (const n in e) {\n    const r = e[n];\n    if (!r)\n      continue;\n    let i, o;\n    if (typeof r == \"function\" || \"parse\" in r)\n      i = n, o = typeof r == \"function\" ? r : r.parse.bind(r);\n    else {\n      const { type: a } = r;\n      i = r.from || n, o = typeof a == \"function\" ? a : a.parse.bind(a);\n    }\n    try {\n      const a = o(t(i));\n      a !== void 0 && (s[n] = a);\n    } catch (a) {\n      throw u(pt, `Unable to parse field \"${n}\"`, a);\n    }\n  }\n  return s;\n}\nfunction Q(e) {\n  let t = e;\n  if (typeof t == \"string\" && (t = JSON.parse(t)), typeof t != \"object\" || t === null || Array.isArray(t))\n    throw P();\n  return t;\n}\nfunction _(e, t) {\n  return new M((s) => {\n    const n = Q(s);\n    return ut(e, (r) => n[r]);\n  }, !1, t);\n}\nconst y = S((e) => {\n  if (typeof e == \"number\")\n    return e;\n  if (typeof e == \"string\") {\n    const t = Number(e);\n    if (!Number.isNaN(t))\n      return t;\n  }\n  throw P();\n}, \"number\");\nfunction Y(e) {\n  return /^#[\\da-f]{6}$/i.test(e);\n}\nfunction Kt(e) {\n  return /^#[\\da-f]{3}$/i.test(e);\n}\nfunction lt(e) {\n  const t = e.replace(/\\s/g, \"\").toLowerCase();\n  if (Y(t))\n    return t;\n  if (Kt(t)) {\n    let n = \"#\";\n    for (let r = 0; r < 3; r += 1)\n      n += t[1 + r].repeat(2);\n    return n;\n  }\n  const s = t.match(/^rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/) || t.match(/^rgba\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),\\d{1,3}\\)$/);\n  if (!s)\n    throw new Error(`Value \"${e}\" does not satisfy any of known RGB formats.`);\n  return s.slice(1).reduce((n, r) => {\n    const i = parseInt(r, 10).toString(16);\n    return n + (i.length === 1 ? \"0\" : \"\") + i;\n  }, \"#\");\n}\nconst h = S((e) => {\n  if (typeof e == \"string\" || typeof e == \"number\")\n    return e.toString();\n  throw P();\n}, \"string\"), dt = S((e) => lt(h().parse(e)), \"rgb\");\nfunction te(e) {\n  return _({\n    eventType: h(),\n    eventData: (t) => t\n  }).parse(e);\n}\nfunction ee() {\n  [\"TelegramGameProxy_receiveEvent\", \"TelegramGameProxy\", \"Telegram\"].forEach((e) => {\n    delete window[e];\n  });\n}\nfunction se(e, t) {\n  window.dispatchEvent(new MessageEvent(\"message\", {\n    data: JSON.stringify({ eventType: e, eventData: t }),\n    // We specify window.parent to imitate the case, the parent iframe sent us this event.\n    source: window.parent\n  }));\n}\nfunction ne() {\n  [\n    [\"TelegramGameProxy_receiveEvent\"],\n    // Windows Phone.\n    [\"TelegramGameProxy\", \"receiveEvent\"],\n    // Desktop.\n    [\"Telegram\", \"WebView\", \"receiveEvent\"]\n    // Android and iOS.\n  ].forEach((e) => {\n    let t = window;\n    e.forEach((s, n, r) => {\n      if (n === r.length - 1) {\n        t[s] = se;\n        return;\n      }\n      s in t || (t[s] = {}), t = t[s];\n    });\n  });\n}\nconst re = _({\n  button_id: (e) => e == null ? void 0 : h().parse(e)\n}), ie = {\n  clipboard_text_received: _({\n    req_id: h(),\n    data: (e) => e === null ? e : h().optional().parse(e)\n  }),\n  custom_method_invoked: _({\n    req_id: h(),\n    result: (e) => e,\n    error: h().optional()\n  }),\n  invoice_closed: _({\n    slug: h(),\n    status: h()\n  }),\n  phone_requested: _({\n    status: h()\n  }),\n  popup_closed: {\n    parse: (e) => re.parse(e ?? {})\n  },\n  qr_text_received: _({\n    data: h().optional()\n  }),\n  theme_changed: _({\n    theme_params: (e) => {\n      const t = dt().optional();\n      return Object.entries(Q(e)).reduce((s, [n, r]) => (s[n] = t.parse(r), s), {});\n    }\n  }),\n  viewport_changed: _({\n    height: y(),\n    width: (e) => e == null ? window.innerWidth : y().parse(e),\n    is_state_stable: w(),\n    is_expanded: w()\n  }),\n  write_access_requested: _({\n    status: h()\n  })\n};\nfunction oe() {\n  const e = new V();\n  ne();\n  let t = [\n    // Don't forget to remove created handlers.\n    ee,\n    // Add \"resize\" event listener to make sure, we always have fresh viewport information.\n    // Desktop version of Telegram is sometimes not sending the viewport_changed\n    // event. For example, when the MainButton is shown. That's why we should\n    // add our own listener to make sure, viewport information is always fresh.\n    // Issue: https://github.com/Telegram-Mini-Apps/tma.js/issues/10\n    z(\"resize\", () => {\n      e.emit(\"viewport_changed\", {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        is_state_stable: !0,\n        is_expanded: !0\n      });\n    }),\n    // Add listener, which handles events sent from the Telegram web application and also events\n    // generated by the local emitEvent function.\n    z(\"message\", (s) => {\n      if (s.source !== window.parent)\n        return;\n      let n;\n      try {\n        n = te(s.data);\n      } catch {\n        return;\n      }\n      const { eventType: r, eventData: i } = n, o = ie[r];\n      try {\n        const a = o ? o.parse(i) : i;\n        e.emit(...a ? [r, a] : [r]);\n      } catch (a) {\n        D.error(\n          `An error occurred processing the \"${r}\" event from the Telegram application. Please, file an issue here: https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose`,\n          n,\n          a\n        );\n      }\n    }),\n    // Clear emitter bound events.\n    () => e.clear()\n  ];\n  return [e, () => {\n    t.forEach((s) => s()), t = [];\n  }];\n}\nconst [ae, ce] = ct(\n  (e) => {\n    const [t, s] = oe(), n = t.off.bind(t);\n    return t.off = (r, i) => {\n      const { count: o } = t;\n      n(r, i), o && !t.count && e();\n    }, [t, s];\n  },\n  ([, e]) => e()\n);\nfunction L() {\n  return ae()[0];\n}\nfunction B(e, t) {\n  L().off(e, t);\n}\nfunction b(e, t, s) {\n  return L().on(e, t, s);\n}\nfunction I(e) {\n  return typeof e == \"object\" && e !== null && !Array.isArray(e);\n}\nfunction he(e, t) {\n  const s = e.split(\".\"), n = t.split(\".\"), r = Math.max(s.length, n.length);\n  for (let i = 0; i < r; i += 1) {\n    const o = parseInt(s[i] || \"0\", 10), a = parseInt(n[i] || \"0\", 10);\n    if (o !== a)\n      return o > a ? 1 : -1;\n  }\n  return 0;\n}\nfunction g(e, t) {\n  return he(e, t) <= 0;\n}\nfunction v(e, t, s) {\n  if (typeof s == \"string\") {\n    if (e === \"web_app_open_link\" && t === \"try_instant_view\")\n      return g(\"6.4\", s);\n    if (e === \"web_app_set_header_color\" && t === \"color\")\n      return g(\"6.9\", s);\n  }\n  switch (e) {\n    case \"web_app_open_tg_link\":\n    case \"web_app_open_invoice\":\n    case \"web_app_setup_back_button\":\n    case \"web_app_set_background_color\":\n    case \"web_app_set_header_color\":\n    case \"web_app_trigger_haptic_feedback\":\n      return g(\"6.1\", t);\n    case \"web_app_open_popup\":\n      return g(\"6.2\", t);\n    case \"web_app_close_scan_qr_popup\":\n    case \"web_app_open_scan_qr_popup\":\n    case \"web_app_read_text_from_clipboard\":\n      return g(\"6.4\", t);\n    case \"web_app_switch_inline_query\":\n      return g(\"6.7\", t);\n    case \"web_app_invoke_custom_method\":\n    case \"web_app_request_write_access\":\n    case \"web_app_request_phone\":\n      return g(\"6.9\", t);\n    case \"web_app_setup_settings_button\":\n      return g(\"6.10\", t);\n    case \"web_app_biometry_get_info\":\n    case \"web_app_biometry_open_settings\":\n    case \"web_app_biometry_request_access\":\n    case \"web_app_biometry_request_auth\":\n    case \"web_app_biometry_update_token\":\n      return g(\"7.2\", t);\n    default:\n      return [\n        \"iframe_ready\",\n        \"iframe_will_reload\",\n        \"web_app_close\",\n        \"web_app_data_send\",\n        \"web_app_expand\",\n        \"web_app_open_link\",\n        \"web_app_ready\",\n        \"web_app_request_theme\",\n        \"web_app_request_viewport\",\n        \"web_app_setup_main_button\",\n        \"web_app_setup_closing_behavior\"\n      ].includes(e);\n  }\n}\nfunction pe(e) {\n  return \"external\" in e && I(e.external) && \"notify\" in e.external && typeof e.external.notify == \"function\";\n}\nfunction _t(e) {\n  return \"TelegramWebviewProxy\" in e && I(e.TelegramWebviewProxy) && \"postEvent\" in e.TelegramWebviewProxy && typeof e.TelegramWebviewProxy.postEvent == \"function\";\n}\nfunction ue() {\n  try {\n    return window.self !== window.top;\n  } catch {\n    return !0;\n  }\n}\nlet ft = \"https://web.telegram.org\";\nfunction ns(e) {\n  ft = e;\n}\nfunction le() {\n  return ft;\n}\nfunction T(e, t, s) {\n  let n = {}, r;\n  t === void 0 && s === void 0 ? n = {} : t !== void 0 && s !== void 0 ? (n = s, r = t) : t !== void 0 && (\"targetOrigin\" in t ? n = t : r = t);\n  const { targetOrigin: i = le() } = n;\n  if (Wt(\"Posting event:\", r ? { event: e, data: r } : { event: e }), ue()) {\n    window.parent.postMessage(JSON.stringify({ eventType: e, eventData: r }), i);\n    return;\n  }\n  if (pe(window)) {\n    window.external.notify(JSON.stringify({ eventType: e, eventData: r }));\n    return;\n  }\n  if (_t(window)) {\n    window.TelegramWebviewProxy.postEvent(e, JSON.stringify(r));\n    return;\n  }\n  throw u(\n    jt,\n    \"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside of Telegram application environment.\"\n  );\n}\nfunction de(e) {\n  return (t, s) => {\n    if (!v(t, e))\n      throw u(Ht, `Method \"${t}\" is unsupported in Mini Apps version ${e}`);\n    if (I(s)) {\n      let n;\n      if (t === \"web_app_open_link\" && \"try_instant_view\" in s ? n = \"try_instant_view\" : t === \"web_app_set_header_color\" && \"color\" in s && (n = \"color\"), n && !v(t, n, e))\n        throw u(\n          Gt,\n          `Parameter \"${n}\" of \"${t}\" method is unsupported in Mini Apps version ${e}`\n        );\n    }\n    return T(t, s);\n  };\n}\nfunction gt(e) {\n  return ({ req_id: t }) => t === e;\n}\nfunction bt(e) {\n  return u(Ft, `Timeout reached: ${e}ms`);\n}\nfunction wt(e, t) {\n  return Promise.race([\n    typeof e == \"function\" ? e() : e,\n    new Promise((s, n) => {\n      setTimeout(() => {\n        n(bt(t));\n      }, t);\n    })\n  ]);\n}\nasync function f(e) {\n  let t;\n  const s = new Promise((d) => {\n    t = d;\n  }), {\n    method: n,\n    event: r,\n    capture: i,\n    postEvent: o = T,\n    timeout: a\n  } = e, p = (Array.isArray(r) ? r : [r]).map(\n    (d) => b(d, (st) => (!i || i(st)) && t(st))\n  );\n  try {\n    return o(n, e.params), await (a ? wt(s, a) : s);\n  } finally {\n    p.forEach((d) => d());\n  }\n}\nasync function R(e, t, s, n = {}) {\n  const {\n    result: r,\n    error: i\n  } = await f({\n    ...n,\n    method: \"web_app_invoke_custom_method\",\n    event: \"custom_method_invoked\",\n    params: {\n      method: e,\n      params: t,\n      req_id: s\n    },\n    capture: gt(s)\n  });\n  if (i)\n    throw u(zt, i);\n  return r;\n}\nfunction F(...e) {\n  return e.map((t) => {\n    if (typeof t == \"string\")\n      return t;\n    if (I(t))\n      return F(Object.entries(t).map((s) => s[1] && s[0]));\n    if (Array.isArray(t))\n      return F(...t);\n  }).filter(Boolean).join(\" \");\n}\nfunction rs(...e) {\n  return e.reduce((t, s) => (I(s) && Object.entries(s).forEach(([n, r]) => {\n    const i = F(t[n], r);\n    i.length && (t[n] = i);\n  }), t), {});\n}\nfunction mt(e) {\n  const t = lt(e);\n  return Math.sqrt(\n    [0.299, 0.587, 0.114].reduce((s, n, r) => {\n      const i = parseInt(t.slice(1 + r * 2, 1 + (r + 1) * 2), 16);\n      return s + i * i * n;\n    }, 0)\n  ) < 120;\n}\nclass _e {\n  constructor(t) {\n    c(this, \"ee\", new V());\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    this.state = t;\n  }\n  /**\n   * Clones current state and returns its copy.\n   */\n  clone() {\n    return { ...this.state };\n  }\n  set(t, s) {\n    Object.entries(typeof t == \"string\" ? { [t]: s } : t).reduce((r, [i, o]) => this.state[i] === o || o === void 0 ? r : (this.state[i] = o, this.ee.emit(`change:${i}`, o), !0), !1) && this.ee.emit(\"change\", this.state);\n  }\n  /**\n   * Returns value by specified key.\n   * @param key - state key.\n   */\n  get(t) {\n    return this.state[t];\n  }\n}\nclass Z {\n  constructor(t) {\n    c(this, \"state\");\n    /**\n     * Gets the state value.\n     */\n    c(this, \"get\");\n    /**\n     * Sets the state value.\n     */\n    c(this, \"set\");\n    /**\n     * Clones the current state.\n     */\n    c(this, \"clone\");\n    this.state = new _e(t), this.set = this.state.set.bind(this.state), this.get = this.state.get.bind(this.state), this.clone = this.state.clone.bind(this.state);\n  }\n}\nfunction yt(e, t) {\n  return (s) => v(t[s], e);\n}\nclass X extends Z {\n  constructor(s, n, r) {\n    super(s);\n    /**\n     * @returns True, if specified method is supported by the current component.\n     */\n    c(this, \"supports\");\n    this.supports = yt(n, r);\n  }\n}\nclass fe extends X {\n  constructor(s, n, r) {\n    super({ isVisible: s }, n, {\n      show: \"web_app_setup_back_button\",\n      hide: \"web_app_setup_back_button\"\n    });\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (s, n) => s === \"click\" ? b(\"back_button_pressed\", n) : this.state.on(s, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (s, n) => s === \"click\" ? B(\"back_button_pressed\", n) : this.state.off(s, n));\n    this.postEvent = r;\n  }\n  set isVisible(s) {\n    this.set(\"isVisible\", s), this.postEvent(\"web_app_setup_back_button\", { is_visible: s });\n  }\n  /**\n   * True if BackButton is currently visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the BackButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the BackButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nfunction E() {\n  return typeof window > \"u\";\n}\nconst vt = S((e) => e instanceof Date ? e : new Date(y().parse(e) * 1e3), \"Date\");\nfunction K(e, t) {\n  return new M((s) => {\n    if (typeof s != \"string\" && !(s instanceof URLSearchParams))\n      throw P();\n    const n = typeof s == \"string\" ? new URLSearchParams(s) : s;\n    return ut(e, (r) => {\n      const i = n.get(r);\n      return i === null ? void 0 : i;\n    });\n  }, !1, t);\n}\nconst ge = _({\n  id: y(),\n  type: h(),\n  title: h(),\n  photoUrl: {\n    type: h().optional(),\n    from: \"photo_url\"\n  },\n  username: h().optional()\n}, \"Chat\").optional(), rt = _({\n  addedToAttachmentMenu: {\n    type: w().optional(),\n    from: \"added_to_attachment_menu\"\n  },\n  allowsWriteToPm: {\n    type: w().optional(),\n    from: \"allows_write_to_pm\"\n  },\n  firstName: {\n    type: h(),\n    from: \"first_name\"\n  },\n  id: y(),\n  isBot: {\n    type: w().optional(),\n    from: \"is_bot\"\n  },\n  isPremium: {\n    type: w().optional(),\n    from: \"is_premium\"\n  },\n  languageCode: {\n    type: h().optional(),\n    from: \"language_code\"\n  },\n  lastName: {\n    type: h().optional(),\n    from: \"last_name\"\n  },\n  photoUrl: {\n    type: h().optional(),\n    from: \"photo_url\"\n  },\n  username: h().optional()\n}, \"User\").optional();\nfunction Et() {\n  return K({\n    authDate: {\n      type: vt(),\n      from: \"auth_date\"\n    },\n    canSendAfter: {\n      type: y().optional(),\n      from: \"can_send_after\"\n    },\n    chat: ge,\n    chatInstance: {\n      type: h().optional(),\n      from: \"chat_instance\"\n    },\n    chatType: {\n      type: h().optional(),\n      from: \"chat_type\"\n    },\n    hash: h(),\n    queryId: {\n      type: h().optional(),\n      from: \"query_id\"\n    },\n    receiver: rt,\n    startParam: {\n      type: h().optional(),\n      from: \"start_param\"\n    },\n    user: rt\n  }, \"InitData\");\n}\nfunction be(e) {\n  return e.replace(/_[a-z]/g, (t) => t[1].toUpperCase());\n}\nfunction we(e) {\n  return e.replace(/[A-Z]/g, (t) => `_${t.toLowerCase()}`);\n}\nconst Pt = S(\n  (e) => {\n    const t = dt().optional();\n    return Object.entries(Q(e)).reduce((s, [n, r]) => (s[be(n)] = t.parse(r), s), {});\n  },\n  \"ThemeParams\"\n);\nfunction St(e) {\n  return K({\n    botInline: {\n      type: w().optional(),\n      from: \"tgWebAppBotInline\"\n    },\n    initData: {\n      type: Et().optional(),\n      from: \"tgWebAppData\"\n    },\n    initDataRaw: {\n      type: h().optional(),\n      from: \"tgWebAppData\"\n    },\n    platform: {\n      type: h(),\n      from: \"tgWebAppPlatform\"\n    },\n    showSettings: {\n      type: w().optional(),\n      from: \"tgWebAppShowSettings\"\n    },\n    startParam: {\n      type: h().optional(),\n      from: \"tgWebAppStartParam\"\n    },\n    themeParams: {\n      type: Pt(),\n      from: \"tgWebAppThemeParams\"\n    },\n    version: {\n      type: h(),\n      from: \"tgWebAppVersion\"\n    }\n  }).parse(e);\n}\nfunction xt(e) {\n  return St(\n    e.replace(/^[^?#]*[?#]/, \"\").replace(/[?#]/g, \"&\")\n  );\n}\nfunction me() {\n  return xt(window.location.href);\n}\nfunction Rt() {\n  return performance.getEntriesByType(\"navigation\")[0];\n}\nfunction ye() {\n  const e = Rt();\n  if (!e)\n    throw new Error(\"Unable to get first navigation entry.\");\n  return xt(e.name);\n}\nfunction Ct(e) {\n  return `tma.js/${e.replace(/[A-Z]/g, (t) => `-${t.toLowerCase()}`)}`;\n}\nfunction Tt(e, t) {\n  sessionStorage.setItem(Ct(e), JSON.stringify(t));\n}\nfunction At(e) {\n  const t = sessionStorage.getItem(Ct(e));\n  try {\n    return t ? JSON.parse(t) : void 0;\n  } catch {\n  }\n}\nfunction ve() {\n  return St(At(\"launchParams\") || \"\");\n}\nfunction Ee(e) {\n  return JSON.stringify(\n    Object.fromEntries(\n      Object.entries(e).map(([t, s]) => [we(t), s])\n    )\n  );\n}\nfunction Pe(e) {\n  const {\n    initDataRaw: t,\n    themeParams: s,\n    platform: n,\n    version: r,\n    showSettings: i,\n    startParam: o,\n    botInline: a\n  } = e, p = new URLSearchParams();\n  return p.set(\"tgWebAppPlatform\", n), p.set(\"tgWebAppThemeParams\", Ee(s)), p.set(\"tgWebAppVersion\", r), t && p.set(\"tgWebAppData\", t), o && p.set(\"tgWebAppStartParam\", o), typeof i == \"boolean\" && p.set(\"tgWebAppShowSettings\", i ? \"1\" : \"0\"), typeof a == \"boolean\" && p.set(\"tgWebAppBotInline\", a ? \"1\" : \"0\"), p.toString();\n}\nfunction Se(e) {\n  Tt(\"launchParams\", Pe(e));\n}\nfunction xe() {\n  for (const e of [\n    // Try to retrieve launch parameters from the current location. This method can return\n    // nothing in case, location was changed and then page was reloaded.\n    me,\n    // Then, try using the lower level API - window.performance.\n    ye,\n    // Finally, try to extract launch parameters from the session storage.\n    ve\n  ])\n    try {\n      const t = e();\n      return Se(t), t;\n    } catch {\n    }\n  throw new Error(\"Unable to retrieve launch parameters from any known source.\");\n}\nfunction It() {\n  const e = Rt();\n  return !!(e && e.type === \"reload\");\n}\nfunction Re() {\n  let e = 0;\n  return () => (e += 1).toString();\n}\nconst [Ce] = ct(Re);\nfunction l(e, t) {\n  return ({ ssr: s } = {}) => {\n    let n;\n    if (E()) {\n      if (!s)\n        throw u(\n          J,\n          \"ssr.options must be specified to initialize component on the server side\"\n        );\n      n = s;\n    } else\n      n = xe();\n    const r = {\n      ...n,\n      postEvent: \"version\" in n ? de(n.version) : () => {\n        throw u(\n          Zt,\n          \"postEvent function is forbidden to be called on the server side.\"\n        );\n      },\n      createRequestId: Ce()\n    };\n    if (E() || typeof e == \"function\")\n      return typeof e == \"function\" ? e(r) : t(r);\n    const i = t({\n      ...r,\n      state: It() ? At(e) : void 0\n    }), o = (a) => (a.on(\"change\", (p) => {\n      Tt(e, p);\n    }), a);\n    return i instanceof Promise ? i.then(o) : o(i);\n  };\n}\nconst is = l(\"backButton\", ({\n  postEvent: e,\n  version: t,\n  state: s = { isVisible: !1 }\n}) => new fe(s.isVisible, t, e));\nclass q extends X {\n  constructor() {\n    super(...arguments);\n    /**\n     * Adds a new event listener.\n     */\n    c(this, \"on\", this.state.on.bind(this.state));\n    /**\n     * Removes the event listener.\n     */\n    c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nfunction qt(e) {\n  const t = e.available ? e : {\n    available: !1,\n    device_id: \"\",\n    token_saved: !1,\n    access_requested: !1,\n    access_granted: !1,\n    type: \"\"\n  };\n  return {\n    available: !0,\n    type: t.type,\n    deviceId: t.device_id,\n    tokenSaved: t.token_saved,\n    accessRequested: t.access_requested,\n    accessGranted: t.access_granted\n  };\n}\nclass it extends q {\n  constructor({ postEvent: s, version: n, ...r }) {\n    super(r, n, {\n      auth: \"web_app_biometry_request_auth\",\n      openSettings: \"web_app_biometry_open_settings\",\n      requestAccess: \"web_app_biometry_request_access\",\n      updateToken: \"web_app_biometry_update_token\"\n    });\n    c(this, \"postEvent\");\n    c(this, \"authPromise\");\n    c(this, \"accessPromise\");\n    this.postEvent = s;\n  }\n  /**\n   * Shows whether biometry is available.\n   */\n  get available() {\n    return this.get(\"available\");\n  }\n  /**\n   * Shows whether permission to use biometrics has been granted.\n   */\n  get accessGranted() {\n    return this.get(\"accessGranted\");\n  }\n  /**\n   * Shows whether if permission to use biometrics has been requested.\n   */\n  get accessRequested() {\n    return this.get(\"accessRequested\");\n  }\n  /**\n   * Authenticates the user using biometrics.\n   * @param options - method options.\n   * @since 7.2\n   * @returns Token from the local secure storage, if authentication was successful.\n   */\n  async authenticate({\n    reason: s,\n    ...n\n  }) {\n    return this.authPromise || (this.authPromise = f({\n      ...n,\n      method: \"web_app_biometry_request_auth\",\n      event: \"biometry_auth_requested\",\n      postEvent: this.postEvent,\n      params: {\n        // TODO: Check if reason is empty works fine.\n        reason: (s || \"\").trim()\n      }\n    }).then(({ token: r }) => r).finally(() => this.authPromise = void 0)), this.authPromise;\n  }\n  /**\n   * A unique device identifier that can be used to match the token to the device.\n   */\n  get deviceId() {\n    return this.get(\"deviceId\");\n  }\n  /**\n   * Opens the biometric access settings for bots. Useful when you need to request biometrics\n   * access to users who haven't granted it yet.\n   *\n   * _Note that this method can be called only in response to user interaction with the Mini App\n   * interface (e.g. a click inside the Mini App or on the main button)_.\n   * @since 7.2\n   */\n  openSettings() {\n    this.postEvent(\"web_app_biometry_open_settings\");\n  }\n  /**\n   * Requests permission to use biometrics.\n   * @since 7.2\n   * @returns Promise with true, if access was granted.\n   */\n  requestAccess({ reason: s, ...n } = {}) {\n    return this.accessPromise || (this.accessPromise = f({\n      ...n,\n      postEvent: this.postEvent,\n      method: \"web_app_biometry_request_access\",\n      event: \"biometry_info_received\",\n      params: { reason: s || \"\" }\n    }).then((r) => {\n      const i = qt(r);\n      return this.set(i), i.accessGranted;\n    }).finally(() => this.accessPromise = void 0)), this.accessPromise;\n  }\n  /**\n   * The type of biometrics currently available on the device.\n   */\n  get biometryType() {\n    return this.get(\"biometryType\");\n  }\n  /**\n   * Shows whether token was saved previously in the local secure storage.\n   */\n  get tokenSaved() {\n    return this.get(\"tokenSaved\");\n  }\n  /**\n   * Updates the biometric token in a secure storage on the device.\n   * @returns Promise with `true`, if token was updated.\n   */\n  async updateToken({ token: s, ...n } = {}) {\n    return [\"removed\", \"updated\"].includes(\n      (await f({\n        ...n,\n        postEvent: this.postEvent,\n        method: \"web_app_biometry_update_token\",\n        event: \"biometry_token_updated\",\n        params: { token: s || \"\" }\n      })).status\n    );\n  }\n}\nasync function Te(e) {\n  return qt(\n    await f({\n      ...e || {},\n      method: \"web_app_biometry_get_info\",\n      event: \"biometry_info_received\"\n    })\n  );\n}\nconst os = l(\"biometryManager\", async ({ postEvent: e, version: t, state: s }) => {\n  if (s)\n    return new it({ ...s, version: t, postEvent: e });\n  if (E())\n    throw u(\n      J,\n      \"BiometryManager cannot be instantiated on the server side without passing the ssr.state object.\"\n    );\n  return new it({\n    ...await Te({ timeout: 1e3 }),\n    version: t,\n    postEvent: e\n  });\n});\nclass tt extends Z {\n  constructor() {\n    super(...arguments);\n    /**\n     * Adds a new event listener.\n     */\n    c(this, \"on\", this.state.on.bind(this.state));\n    /**\n     * Removes the event listener.\n     */\n    c(this, \"off\", this.state.off.bind(this.state));\n  }\n}\nclass Ae extends tt {\n  constructor(t, s) {\n    super({ isConfirmationNeeded: t }), this.postEvent = s;\n  }\n  set isConfirmationNeeded(t) {\n    this.set(\"isConfirmationNeeded\", t), this.postEvent(\"web_app_setup_closing_behavior\", { need_confirmation: t });\n  }\n  /**\n   * True, if the confirmation dialog should be shown while the user is trying to close\n   * the Mini App.\n   */\n  get isConfirmationNeeded() {\n    return this.get(\"isConfirmationNeeded\");\n  }\n  /**\n   * Disables the confirmation dialog when closing the Mini App.\n   */\n  disableConfirmation() {\n    this.isConfirmationNeeded = !1;\n  }\n  /**\n   * Enables the confirmation dialog when closing the Mini App.\n   */\n  enableConfirmation() {\n    this.isConfirmationNeeded = !0;\n  }\n}\nconst as = l(\"closingBehavior\", ({\n  postEvent: e,\n  state: t = { isConfirmationNeeded: !1 }\n}) => new Ae(t.isConfirmationNeeded, e));\nclass et {\n  constructor(t, s) {\n    /**\n     * @returns True, if specified method is supported by the current component.\n     */\n    c(this, \"supports\");\n    this.supports = yt(t, s);\n  }\n}\nfunction Ie(e) {\n  if (Array.isArray(e))\n    return e;\n  if (typeof e == \"string\")\n    try {\n      const t = JSON.parse(e);\n      if (Array.isArray(t))\n        return t;\n    } catch {\n    }\n  throw P();\n}\nclass qe extends M {\n  constructor(s, n, r) {\n    super(Ie, n, r);\n    c(this, \"itemParser\");\n    this.itemParser = typeof s == \"function\" ? s : s.parse.bind(s);\n  }\n  /**\n   * Attempts to parse passed value\n   * @param value - value to parse.\n   * @throws {SDKError} ERR_PARSE\n   * @see ERR_PARSE\n   */\n  parse(s) {\n    const n = super.parse(s);\n    return n === void 0 ? n : n.map(this.itemParser);\n  }\n  of(s) {\n    return this.itemParser = typeof s == \"function\" ? s : s.parse.bind(s), this;\n  }\n}\nfunction ke(e) {\n  return new qe((t) => t, !1, e);\n}\nfunction ot(e, t) {\n  return Object.fromEntries(e.map((s) => [s, t]));\n}\nclass Ne extends et {\n  constructor(t, s, n) {\n    super(t, {\n      delete: \"web_app_invoke_custom_method\",\n      get: \"web_app_invoke_custom_method\",\n      getKeys: \"web_app_invoke_custom_method\",\n      set: \"web_app_invoke_custom_method\"\n    }), this.createRequestId = s, this.postEvent = n;\n  }\n  /**\n   * Deletes specified key or keys from the cloud storage.\n   * @param keyOrKeys - key or keys to delete.\n   * @param options - request execution options.\n   */\n  async delete(t, s = {}) {\n    const n = Array.isArray(t) ? t : [t];\n    n.length && await R(\n      \"deleteStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...s, postEvent: this.postEvent }\n    );\n  }\n  /**\n   * Returns list of all keys presented in the cloud storage.\n   * @param options - request execution options.\n   */\n  async getKeys(t = {}) {\n    return ke().of(h()).parse(\n      await R(\n        \"getStorageKeys\",\n        {},\n        this.createRequestId(),\n        { ...t, postEvent: this.postEvent }\n      )\n    );\n  }\n  async get(t, s = {}) {\n    const n = Array.isArray(t) ? t : [t];\n    if (!n.length)\n      return ot(n, \"\");\n    const r = await R(\n      \"getStorageValues\",\n      { keys: n },\n      this.createRequestId(),\n      { ...s, postEvent: this.postEvent }\n    ), i = _(ot(n, h()), \"CloudStorageData\").parse(r);\n    return Array.isArray(t) ? i : i[t];\n  }\n  /**\n   * Saves specified value by key.\n   * @param key - storage key.\n   * @param value - storage value.\n   * @param options - request execution options.\n   */\n  async set(t, s, n = {}) {\n    await R(\n      \"saveStorageValue\",\n      { key: t, value: s },\n      this.createRequestId(),\n      { ...n, postEvent: this.postEvent }\n    );\n  }\n}\nconst cs = l(\n  ({ createRequestId: e, postEvent: t, version: s }) => new Ne(s, e, t)\n);\nclass De extends et {\n  constructor(t, s) {\n    super(t, {\n      impactOccurred: \"web_app_trigger_haptic_feedback\",\n      notificationOccurred: \"web_app_trigger_haptic_feedback\",\n      selectionChanged: \"web_app_trigger_haptic_feedback\"\n    }), this.postEvent = s;\n  }\n  /**\n   * A method tells that an impact occurred. The Telegram app may play the\n   * appropriate haptics based on style value passed.\n   * @param style - impact style.\n   */\n  impactOccurred(t) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"impact\",\n      impact_style: t\n    });\n  }\n  /**\n   * A method tells that a task or action has succeeded, failed, or produced\n   * a warning. The Telegram app may play the appropriate haptics based on\n   * type value passed.\n   * @param type - notification type.\n   */\n  notificationOccurred(t) {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", {\n      type: \"notification\",\n      notification_type: t\n    });\n  }\n  /**\n   * A method tells that the user has changed a selection. The Telegram app\n   * may play the appropriate haptics.\n   *\n   * Do not use this feedback when the user makes or confirms a selection;\n   * use it only when the selection changes.\n   */\n  selectionChanged() {\n    this.postEvent(\"web_app_trigger_haptic_feedback\", { type: \"selection_change\" });\n  }\n}\nconst hs = l(\n  ({ version: e, postEvent: t }) => new De(e, t)\n);\nclass Ve {\n  constructor(t) {\n    this.initData = t;\n  }\n  /**\n   * @see InitDataParsed.authDate\n   */\n  get authDate() {\n    return this.initData.authDate;\n  }\n  /**\n   * @see InitDataParsed.canSendAfter\n   */\n  get canSendAfter() {\n    return this.initData.canSendAfter;\n  }\n  /**\n   * Date after which it is allowed to call\n   * the [answerWebAppQuery](https://core.telegram.org/bots/api#answerwebappquery) method.\n   */\n  get canSendAfterDate() {\n    const { canSendAfter: t } = this;\n    return t ? new Date(this.authDate.getTime() + t * 1e3) : void 0;\n  }\n  /**\n   * @see InitDataParsed.chat\n   */\n  get chat() {\n    return this.initData.chat;\n  }\n  /**\n   * @see InitDataParsed.chatType\n   */\n  get chatType() {\n    return this.initData.chatType;\n  }\n  /**\n   * @see InitDataParsed.chatInstance\n   */\n  get chatInstance() {\n    return this.initData.chatInstance;\n  }\n  /**\n   * @see InitDataParsed.hash\n   */\n  get hash() {\n    return this.initData.hash;\n  }\n  /**\n   * @see InitDataParsed.queryId\n   */\n  get queryId() {\n    return this.initData.queryId;\n  }\n  /**\n   * @see InitDataParsed.receiver\n   */\n  get receiver() {\n    return this.initData.receiver;\n  }\n  /**\n   * @see InitDataParsed.startParam\n   */\n  get startParam() {\n    return this.initData.startParam;\n  }\n  /**\n   * @see InitDataParsed.user\n   */\n  get user() {\n    return this.initData.user;\n  }\n}\nconst ps = l(\n  ({ initData: e }) => e ? new Ve(e) : void 0\n);\nfunction us(e) {\n  return Et().parse(e);\n}\nclass $e extends q {\n  constructor(t, s, n) {\n    super({ isOpened: t }, s, { open: \"web_app_open_invoice\" }), this.postEvent = n;\n  }\n  set isOpened(t) {\n    this.set(\"isOpened\", t);\n  }\n  /**\n   * True if invoice is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  async open(t, s) {\n    if (this.isOpened)\n      throw new Error(\"Invoice is already opened\");\n    let n;\n    if (!s)\n      n = t;\n    else {\n      const { hostname: r, pathname: i } = new URL(t, window.location.href);\n      if (r !== \"t.me\")\n        throw new Error(`Incorrect hostname: ${r}`);\n      const o = i.match(/^\\/(\\$|invoice\\/)([A-Za-z0-9\\-_=]+)$/);\n      if (!o)\n        throw new Error('Link pathname has incorrect format. Expected to receive \"/invoice/{slug}\" or \"/${slug}\"');\n      [, , n] = o;\n    }\n    this.isOpened = !0;\n    try {\n      return (await f({\n        method: \"web_app_open_invoice\",\n        event: \"invoice_closed\",\n        params: { slug: n },\n        postEvent: this.postEvent,\n        capture(i) {\n          return n === i.slug;\n        }\n      })).status;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst ls = l(\n  ({ version: e, postEvent: t }) => new $e(!1, e, t)\n);\nclass Me extends Z {\n  constructor({ postEvent: s, ...n }) {\n    super(n);\n    c(this, \"postEvent\");\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (s, n) => s === \"click\" ? b(\"main_button_pressed\", n) : this.state.on(s, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (s, n) => s === \"click\" ? B(\"main_button_pressed\", n) : this.state.off(s, n));\n    this.postEvent = s;\n  }\n  /**\n   * Sends current local state to the Telegram application.\n   */\n  commit() {\n    this.text !== \"\" && this.postEvent(\"web_app_setup_main_button\", {\n      is_visible: this.isVisible,\n      is_active: this.isEnabled,\n      is_progress_visible: this.isLoaderVisible,\n      text: this.text,\n      color: this.backgroundColor,\n      text_color: this.textColor\n    });\n  }\n  set isEnabled(s) {\n    this.setParams({ isEnabled: s });\n  }\n  /**\n   * True if the MainButton is enabled.\n   */\n  get isEnabled() {\n    return this.get(\"isEnabled\");\n  }\n  set isLoaderVisible(s) {\n    this.setParams({ isLoaderVisible: s });\n  }\n  /**\n   * True if the MainButton loader is visible.\n   */\n  get isLoaderVisible() {\n    return this.get(\"isLoaderVisible\");\n  }\n  set isVisible(s) {\n    this.setParams({ isVisible: s });\n  }\n  /**\n   * True if the MainButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * The MainButton background color.\n   */\n  get backgroundColor() {\n    return this.get(\"backgroundColor\");\n  }\n  /**\n   * The MainButton text.\n   */\n  get text() {\n    return this.get(\"text\");\n  }\n  /**\n   * The MainButton text color.\n   */\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n  /**\n   * Disables the MainButton.\n   * @see Does not work on Android: https://github.com/Telegram-Mini-Apps/issues/issues/1\n   */\n  disable() {\n    return this.isEnabled = !1, this;\n  }\n  /**\n   * Enables the MainButton.\n   */\n  enable() {\n    return this.isEnabled = !0, this;\n  }\n  /**\n   * Hides the MainButton.\n   */\n  hide() {\n    return this.isVisible = !1, this;\n  }\n  /**\n   * Hides the MainButton loading indicator.\n   */\n  hideLoader() {\n    return this.isLoaderVisible = !1, this;\n  }\n  /**\n   * Shows the MainButton.\n   *\n   * Note that opening the Mini App from the attachment menu hides the main button until the\n   * user interacts with the Mini App interface.\n   */\n  show() {\n    return this.isVisible = !0, this;\n  }\n  /**\n   * Shows a loading indicator on the Main Button.\n   */\n  showLoader() {\n    return this.isLoaderVisible = !0, this;\n  }\n  /**\n   * Sets a new MainButton text. Minimal length for the text is 1 symbol, and maximum is 64 symbols.\n   * @param text - a new text.\n   */\n  setText(s) {\n    return this.setParams({ text: s });\n  }\n  /**\n   * Sets a new Main Button text color.\n   * @param textColor - new text color.\n   */\n  setTextColor(s) {\n    return this.setParams({ textColor: s });\n  }\n  /**\n   * Updates current Main Button color.\n   * @param backgroundColor - color to set.\n   */\n  setBackgroundColor(s) {\n    return this.setParams({ backgroundColor: s });\n  }\n  /**\n   * Allows setting multiple Main Button parameters.\n   * @param params - Main Button parameters.\n   */\n  setParams(s) {\n    return this.set(s), this.commit(), this;\n  }\n}\nconst ds = l(\"mainButton\", ({\n  postEvent: e,\n  themeParams: t,\n  state: s = {\n    isVisible: !1,\n    isEnabled: !1,\n    text: \"\",\n    isLoaderVisible: !1,\n    textColor: t.buttonTextColor || \"#ffffff\",\n    backgroundColor: t.buttonColor || \"#000000\"\n  }\n}) => new Me({ ...s, postEvent: e }));\nfunction Le() {\n  return K({\n    contact: _({\n      userId: {\n        type: y(),\n        from: \"user_id\"\n      },\n      phoneNumber: {\n        type: h(),\n        from: \"phone_number\"\n      },\n      firstName: {\n        type: h(),\n        from: \"first_name\"\n      },\n      lastName: {\n        type: h().optional(),\n        from: \"last_name\"\n      }\n    }),\n    authDate: {\n      type: vt(),\n      from: \"auth_date\"\n    },\n    hash: h()\n  }, \"RequestedContact\");\n}\nfunction kt(e, t) {\n  return (s) => {\n    const [n, r] = t[s];\n    return v(n, r, e);\n  };\n}\nfunction Be(e) {\n  return new Promise((t) => {\n    setTimeout(t, e);\n  });\n}\nclass Oe extends q {\n  constructor({ postEvent: s, createRequestId: n, version: r, botInline: i, ...o }) {\n    super(o, r, {\n      requestPhoneAccess: \"web_app_request_phone\",\n      requestWriteAccess: \"web_app_request_write_access\",\n      switchInlineQuery: \"web_app_switch_inline_query\",\n      setHeaderColor: \"web_app_set_header_color\",\n      setBackgroundColor: \"web_app_set_background_color\"\n    });\n    c(this, \"botInline\");\n    c(this, \"postEvent\");\n    c(this, \"createRequestId\");\n    c(this, \"requestPhoneAccessPromise\");\n    c(this, \"requestWriteAccessPromise\");\n    /**\n     * Checks if specified method parameter is supported by current component.\n     */\n    c(this, \"supportsParam\");\n    this.createRequestId = n, this.postEvent = s, this.botInline = i;\n    const a = this.supports.bind(this);\n    this.supports = (p) => a(p) ? p !== \"switchInlineQuery\" || i : !1, this.supportsParam = kt(r, {\n      \"setHeaderColor.color\": [\"web_app_set_header_color\", \"color\"]\n    });\n  }\n  /**\n   * Attempts to get requested contact.\n   * @param timeout - request timeout.\n   */\n  async getRequestedContact({\n    timeout: s = 1e4\n  } = {}) {\n    return Le().parse(\n      await R(\n        \"getRequestedContact\",\n        {},\n        this.createRequestId(),\n        { postEvent: this.postEvent, timeout: s }\n      )\n    );\n  }\n  /**\n   * The Mini App background color.\n   * @example \"#ffaabb\"\n   */\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  /**\n   * Closes the Mini App.\n   */\n  close() {\n    this.postEvent(\"web_app_close\");\n  }\n  /**\n   * The Mini App header color.\n   * @example \"#ffaabb\"\n   * @example \"bg_color\"\n   */\n  get headerColor() {\n    return this.get(\"headerColor\");\n  }\n  /**\n   * True if the Mini App is currently launched in bot inline mode.\n   */\n  get isBotInline() {\n    return this.botInline;\n  }\n  /**\n   * True if current Mini App background color is recognized as dark.\n   */\n  get isDark() {\n    return mt(this.bgColor);\n  }\n  /**\n   * Informs the Telegram app that the Mini App is ready to be displayed.\n   *\n   * It is recommended to call this method as early as possible, as soon as all essential\n   * interface elements loaded. Once this method called, the loading placeholder is hidden\n   * and the Mini App shown.\n   *\n   * If the method not called, the placeholder will be hidden only when the page fully loaded.\n   */\n  ready() {\n    this.postEvent(\"web_app_ready\");\n  }\n  /**\n   * Requests current user contact information. In contrary to requestPhoneAccess, this method\n   * returns promise with contact information that rejects in case, user denied access, or request\n   * failed.\n   * @param options - additional options.\n   */\n  async requestContact({ timeout: s = 5e3 } = {}) {\n    try {\n      return await this.getRequestedContact();\n    } catch {\n    }\n    if (await this.requestPhoneAccess() !== \"sent\")\n      throw new Error(\"Access denied.\");\n    const r = Date.now() + s;\n    let i = 50;\n    return wt(async () => {\n      for (; Date.now() < r; ) {\n        try {\n          return await this.getRequestedContact();\n        } catch {\n        }\n        await Be(i), i += 50;\n      }\n      throw bt(s);\n    }, s);\n  }\n  /**\n   * Requests current user phone access. Method returns promise, which resolves\n   * status of the request. In case, user accepted the request, Mini App bot will receive\n   * the according notification.\n   *\n   * To obtain the retrieved information instead, utilize the `requestContact` method.\n   * @param options - additional options.\n   * @see requestContact\n   */\n  async requestPhoneAccess(s = {}) {\n    return this.requestPhoneAccessPromise || (this.requestPhoneAccessPromise = f({\n      ...s,\n      method: \"web_app_request_phone\",\n      event: \"phone_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: n }) => n).finally(() => this.requestPhoneAccessPromise = void 0)), this.requestPhoneAccessPromise;\n  }\n  /**\n   * Requests write message access to current user.\n   * @param options - additional options.\n   */\n  async requestWriteAccess(s = {}) {\n    return this.requestWriteAccessPromise || (this.requestWriteAccessPromise = f({\n      ...s,\n      method: \"web_app_request_write_access\",\n      event: \"write_access_requested\",\n      postEvent: this.postEvent\n    }).then(({ status: n }) => n).finally(() => this.requestWriteAccessPromise = void 0)), this.requestWriteAccessPromise;\n  }\n  /**\n   * A method used to send data to the bot. When this method called, a service message sent to\n   * the bot containing the data of the length up to 4096 bytes, and the Mini App closed. See the\n   * field `web_app_data` in the class [Message](https://core.telegram.org/bots/api#message).\n   *\n   * This method is only available for Mini Apps launched via a Keyboard button.\n   * @param data - data to send to bot.\n   * @throws {Error} data has incorrect size.\n   */\n  sendData(s) {\n    const { size: n } = new Blob([s]);\n    if (!n || n > 4096)\n      throw new Error(`Passed data has incorrect size: ${n}`);\n    this.postEvent(\"web_app_data_send\", { data: s });\n  }\n  /**\n   * Updates current Mini App header color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/tma.js/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/tma.js/issues/8\n   * @param color - color key or RGB color.\n   */\n  setHeaderColor(s) {\n    this.postEvent(\"web_app_set_header_color\", Y(s) ? { color: s } : { color_key: s }), this.set(\"headerColor\", s);\n  }\n  /**\n   * Updates current Mini App background color.\n   *\n   * @see No effect on desktop: https://github.com/Telegram-Mini-Apps/tma.js/issues/9\n   * @see Works incorrectly in Android: https://github.com/Telegram-Mini-Apps/tma.js/issues/8\n   * @param color - RGB color.\n   */\n  setBgColor(s) {\n    this.postEvent(\"web_app_set_background_color\", { color: s }), this.set(\"bgColor\", s);\n  }\n  /**\n   * Inserts the bot's username and the specified inline query in the current chat's input field.\n   * Query may be empty, in which case only the bot's username will be inserted. The client prompts\n   * the user to choose a specific chat, then opens that chat and inserts the bot's username and\n   * the specified inline query in the input field.\n   * @param text - text which should be inserted in the input after the current bot name. Max\n   * length is 256 symbols.\n   * @param chatTypes - List of chat types which could be chosen to send the message. Could be\n   * empty list.\n   */\n  switchInlineQuery(s, n = []) {\n    if (!this.supports(\"switchInlineQuery\") && !this.isBotInline)\n      throw new Error(\"Method is unsupported because Mini App should be launched in inline mode.\");\n    this.postEvent(\"web_app_switch_inline_query\", { query: s, chat_types: n });\n  }\n}\nconst _s = l(\"miniApp\", ({\n  themeParams: e,\n  botInline: t = !1,\n  state: s = {\n    bgColor: e.bgColor || \"#ffffff\",\n    headerColor: e.headerBgColor || \"#000000\"\n  },\n  ...n\n}) => new Oe({ ...n, ...s, botInline: t }));\nfunction Ue(e) {\n  const t = e.message.trim(), s = (e.title || \"\").trim(), n = e.buttons || [];\n  let r;\n  if (s.length > 64)\n    throw new Error(`Title has incorrect size: ${s.length}`);\n  if (!t.length || t.length > 256)\n    throw new Error(`Message has incorrect size: ${t.length}`);\n  if (n.length > 3)\n    throw new Error(`Buttons have incorrect size: ${n.length}`);\n  return n.length ? r = n.map((i) => {\n    const { id: o = \"\" } = i;\n    if (o.length > 64)\n      throw new Error(`Button ID has incorrect size: ${o}`);\n    if (!i.type || i.type === \"default\" || i.type === \"destructive\") {\n      const a = i.text.trim();\n      if (!a.length || a.length > 64) {\n        const p = i.type || \"default\";\n        throw new Error(`Button text with type \"${p}\" has incorrect size: ${i.text.length}`);\n      }\n      return { ...i, text: a, id: o };\n    }\n    return { ...i, id: o };\n  }) : r = [{ type: \"close\", id: \"\" }], { title: s, message: t, buttons: r };\n}\nclass We extends q {\n  constructor(t, s, n) {\n    super({ isOpened: t }, s, { open: \"web_app_open_popup\" }), this.postEvent = n;\n  }\n  set isOpened(t) {\n    this.set(\"isOpened\", t);\n  }\n  /**\n   * True if the Popup is opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  /**\n   * A method that shows a native popup described by the `params` argument.\n   * Promise will be resolved when popup is closed. Resolved value will have\n   * an identifier of pressed button.\n   *\n   * In case, user clicked outside the popup or clicked top right popup close\n   * button, null will be returned.\n   *\n   * @param options - popup parameters.\n   * @throws {Error} Popup is already opened.\n   */\n  async open(t) {\n    if (this.isOpened)\n      throw new Error(\"Popup is already opened.\");\n    this.isOpened = !0;\n    try {\n      const { button_id: s = null } = await f({\n        event: \"popup_closed\",\n        method: \"web_app_open_popup\",\n        postEvent: this.postEvent,\n        params: Ue(t)\n      });\n      return s;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst fs = l(\n  ({ postEvent: e, version: t }) => new We(!1, t, e)\n);\nclass He extends q {\n  constructor(t, s, n) {\n    super({ isOpened: t }, s, {\n      close: \"web_app_close_scan_qr_popup\",\n      open: \"web_app_open_scan_qr_popup\"\n    }), this.postEvent = n;\n  }\n  /**\n   * Closes scanner.\n   */\n  close() {\n    this.postEvent(\"web_app_close_scan_qr_popup\"), this.isOpened = !1;\n  }\n  set isOpened(t) {\n    this.set(\"isOpened\", t);\n  }\n  /**\n   * Returns true in case, QR scanner is currently opened.\n   */\n  get isOpened() {\n    return this.get(\"isOpened\");\n  }\n  /**\n   * Opens scanner with specified title shown to user. Method returns promise\n   * with scanned QR content in case, it was scanned. It will contain null in\n   * case, scanner was closed.\n   * @param text - title to display.\n   */\n  async open(t) {\n    if (this.isOpened)\n      throw new Error(\"QR scanner is already opened.\");\n    this.isOpened = !0;\n    try {\n      return (await f({\n        method: \"web_app_open_scan_qr_popup\",\n        event: [\"qr_text_received\", \"scan_qr_popup_closed\"],\n        postEvent: this.postEvent,\n        params: { text: t }\n      }) || {}).data || null;\n    } finally {\n      this.isOpened = !1;\n    }\n  }\n}\nconst gs = l(\n  ({ version: e, postEvent: t }) => new He(!1, e, t)\n);\nclass Ge extends X {\n  constructor(s, n, r) {\n    super({ isVisible: s }, n, {\n      show: \"web_app_setup_settings_button\",\n      hide: \"web_app_setup_settings_button\"\n    });\n    /**\n     * Adds a new event listener.\n     * @param event - event to listen.\n     * @param listener - listener to add.\n     */\n    c(this, \"on\", (s, n) => s === \"click\" ? b(\"settings_button_pressed\", n) : this.state.on(s, n));\n    /**\n     * Removes the event listener.\n     * @param event - event to listen.\n     * @param listener - listener to remove.\n     */\n    c(this, \"off\", (s, n) => s === \"click\" ? B(\"settings_button_pressed\", n) : this.state.off(s, n));\n    this.postEvent = r;\n  }\n  set isVisible(s) {\n    this.set(\"isVisible\", s), this.postEvent(\"web_app_setup_settings_button\", { is_visible: s });\n  }\n  /**\n   * True if the SettingsButton is visible.\n   */\n  get isVisible() {\n    return this.get(\"isVisible\");\n  }\n  /**\n   * Hides the SettingsButton.\n   */\n  hide() {\n    this.isVisible = !1;\n  }\n  /**\n   * Shows the SettingsButton.\n   */\n  show() {\n    this.isVisible = !0;\n  }\n}\nconst bs = l(\"settingsButton\", ({\n  version: e,\n  postEvent: t,\n  state: s = { isVisible: !1 }\n}) => new Ge(s.isVisible, e, t));\nfunction Nt(e) {\n  return Pt().parse(e);\n}\nclass je extends tt {\n  /**\n   * @since v6.10\n   */\n  get accentTextColor() {\n    return this.get(\"accentTextColor\");\n  }\n  get bgColor() {\n    return this.get(\"bgColor\");\n  }\n  get buttonColor() {\n    return this.get(\"buttonColor\");\n  }\n  get buttonTextColor() {\n    return this.get(\"buttonTextColor\");\n  }\n  get destructiveTextColor() {\n    return this.get(\"destructiveTextColor\");\n  }\n  /**\n   * Returns the copy of the internal state of the current component instance.\n   */\n  getState() {\n    return this.clone();\n  }\n  /**\n   * @since v6.10\n   */\n  get headerBgColor() {\n    return this.get(\"headerBgColor\");\n  }\n  get hintColor() {\n    return this.get(\"hintColor\");\n  }\n  /**\n   * @returns True in case, current color scheme is recognized as dark. This\n   * value is calculated according to theme bg color.\n   */\n  get isDark() {\n    return !this.bgColor || mt(this.bgColor);\n  }\n  get linkColor() {\n    return this.get(\"linkColor\");\n  }\n  get secondaryBgColor() {\n    return this.get(\"secondaryBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionBgColor() {\n    return this.get(\"sectionBgColor\");\n  }\n  /**\n   * @since v6.10\n   */\n  get sectionHeaderTextColor() {\n    return this.get(\"sectionHeaderTextColor\");\n  }\n  /**\n   * Starts listening to the external theme changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return b(\"theme_changed\", (t) => {\n      this.set(Nt(t.theme_params));\n    });\n  }\n  /**\n   * @since v6.10\n   */\n  get subtitleTextColor() {\n    return this.get(\"subtitleTextColor\");\n  }\n  get textColor() {\n    return this.get(\"textColor\");\n  }\n}\nconst ws = l(\"themeParams\", ({ themeParams: e, state: t = e }) => {\n  const s = new je(t);\n  return E() || s.listen(), s;\n});\nfunction ms(e = {}) {\n  return f({\n    ...e,\n    method: \"web_app_request_theme\",\n    event: \"theme_changed\"\n  }).then(Nt);\n}\nclass ze extends et {\n  constructor(s, n, r) {\n    super(s, { readTextFromClipboard: \"web_app_read_text_from_clipboard\" });\n    /**\n     * Checks if specified method parameter is supported by current component.\n     */\n    c(this, \"supportsParam\");\n    this.version = s, this.createRequestId = n, this.postEvent = r, this.supportsParam = kt(s, {\n      \"openLink.tryInstantView\": [\"web_app_open_link\", \"try_instant_view\"]\n    });\n  }\n  /**\n   * Opens a link in an external browser. The Mini App will not be closed.\n   *\n   * Note that this method can be called only in response to the user\n   * interaction with the Mini App interface (e.g. click inside the Mini App\n   * or on the main button).\n   * @param url - URL to be opened.\n   * @param tryInstantView\n   */\n  openLink(s, n) {\n    const r = new URL(s, window.location.href).toString();\n    if (!v(\"web_app_open_link\", this.version)) {\n      window.open(r, \"_blank\");\n      return;\n    }\n    this.postEvent(\"web_app_open_link\", {\n      url: r,\n      ...typeof n == \"boolean\" ? { try_instant_view: n } : {}\n    });\n  }\n  /**\n   * Opens a Telegram link inside Telegram app. The Mini App will be closed. It expects passing\n   * link in full format, with hostname \"t.me\".\n   * @param url - URL to be opened.\n   * @throws {Error} URL has not allowed hostname.\n   */\n  openTelegramLink(s) {\n    const { hostname: n, pathname: r, search: i } = new URL(s, window.location.href);\n    if (n !== \"t.me\")\n      throw new Error(`URL has not allowed hostname: ${n}. Only \"t.me\" is allowed`);\n    if (!v(\"web_app_open_tg_link\", this.version)) {\n      window.location.href = s;\n      return;\n    }\n    this.postEvent(\"web_app_open_tg_link\", { path_full: r + i });\n  }\n  /**\n   * Reads text from clipboard and returns string or null. null is returned\n   * in cases:\n   * - Value in clipboard is not text\n   * - Access to clipboard is not allowed\n   */\n  async readTextFromClipboard() {\n    const s = this.createRequestId(), {\n      data: n = null\n    } = await f({\n      method: \"web_app_read_text_from_clipboard\",\n      event: \"clipboard_text_received\",\n      postEvent: this.postEvent,\n      params: { req_id: s },\n      capture: gt(s)\n    });\n    return n;\n  }\n}\nconst ys = l(\n  ({ version: e, postEvent: t, createRequestId: s }) => new ze(e, s, t)\n);\nasync function Dt(e = {}) {\n  const {\n    is_expanded: t,\n    is_state_stable: s,\n    ...n\n  } = await f({\n    ...e,\n    method: \"web_app_request_viewport\",\n    event: \"viewport_changed\"\n  });\n  return { ...n, isExpanded: t, isStateStable: s };\n}\nfunction x(e) {\n  return e < 0 ? 0 : e;\n}\nclass Vt extends tt {\n  constructor({ postEvent: s, stableHeight: n, height: r, width: i, isExpanded: o }) {\n    super({\n      height: x(r),\n      isExpanded: o,\n      stableHeight: x(n),\n      width: x(i)\n    });\n    c(this, \"postEvent\");\n    this.postEvent = s;\n  }\n  /**\n   * Requests viewport information from the Telegram application and updates current Viewport\n   * instance.\n   * @param options - options to request fresh data.\n   */\n  async sync(s) {\n    const { isStateStable: n, ...r } = await Dt(s);\n    this.set({\n      ...r,\n      stableHeight: n ? r.height : this.get(\"stableHeight\")\n    });\n  }\n  /**\n   * The current height of the **visible area** of the Mini App.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the bot can do the same by calling `expand` method. As the position of\n   * the Mini App changes, the current height value of the visible area will be updated  in real\n   * time.\n   *\n   * Please note that the refresh rate of this value is not sufficient to smoothly follow the\n   * lower border of the window. It should not be used to pin interface elements to the bottom\n   * of the visible area. It's more appropriate to use the value of the `stableHeight`\n   * field for this purpose.\n   *\n   * @see stableHeight\n   */\n  get height() {\n    return this.get(\"height\");\n  }\n  /**\n   * The height of the visible area of the Mini App in its last stable state.\n   *\n   * The application can display just the top part of the Mini App, with its lower part remaining\n   * outside the screen area. From this position, the user can \"pull\" the Mini App to its\n   * maximum height, while the application can do the same by calling `expand` method.\n   *\n   * Unlike the value of `height`, the value of `stableHeight` does not change as the position\n   * of the Mini App changes with user gestures or during animations. The value of `stableHeight`\n   * will be updated after all gestures and animations are completed and\n   * the Mini App reaches its final size.\n   *\n   * @see height\n   */\n  get stableHeight() {\n    return this.get(\"stableHeight\");\n  }\n  /**\n   * Starts listening to viewport changes and applies them.\n   * @returns Function to stop listening.\n   */\n  listen() {\n    return b(\"viewport_changed\", (s) => {\n      const {\n        height: n,\n        width: r,\n        is_expanded: i,\n        is_state_stable: o\n      } = s, a = x(n);\n      this.set({\n        height: a,\n        isExpanded: i,\n        width: x(r),\n        ...o ? { stableHeight: a } : {}\n      });\n    });\n  }\n  /**\n   * True if the Mini App is expanded to the maximum available height. Otherwise, if\n   * the Mini App occupies part of the screen and can be expanded to the full height using\n   * `expand` method.\n   * @see expand\n   */\n  get isExpanded() {\n    return this.get(\"isExpanded\");\n  }\n  /**\n   * Current visible area width.\n   */\n  get width() {\n    return this.get(\"width\");\n  }\n  /**\n   * A method that expands the Mini App to the maximum available height. To find out if the Mini\n   * App is expanded to the maximum height, refer to the value of the `isExpanded`.\n   * @see isExpanded\n   */\n  expand() {\n    this.postEvent(\"web_app_expand\"), this.set(\"isExpanded\", !0);\n  }\n  /**\n   * True if the current viewport height is stable and is not going to change in the next moment.\n   */\n  get isStable() {\n    return this.stableHeight === this.height;\n  }\n}\nasync function Fe(e, t = {}) {\n  const {\n    height: s,\n    width: n,\n    isExpanded: r,\n    isStateStable: i\n  } = await Dt({ ...t, postEvent: e });\n  return new Vt({\n    postEvent: e,\n    height: s,\n    width: n,\n    isExpanded: r,\n    stableHeight: i ? s : 0\n  });\n}\nfunction Je({\n  state: e,\n  platform: t,\n  postEvent: s\n}) {\n  let n = !1, r = 0, i = 0, o = 0;\n  return e ? (n = e.isExpanded, r = e.height, i = e.width, o = e.stableHeight) : [\"macos\", \"tdesktop\", \"unigram\", \"webk\", \"weba\", \"web\"].includes(t) && (n = !0, r = window.innerHeight, i = window.innerWidth, o = window.innerHeight), new Vt({\n    postEvent: s,\n    height: r,\n    width: i,\n    stableHeight: o,\n    isExpanded: n\n  });\n}\nconst vs = l(\n  \"viewport\",\n  async (e) => {\n    if (E() && !e.state)\n      throw u(\n        J,\n        \"Viewport cannot be instantiated on the server side without passing the ssr.state object.\"\n      );\n    let t = Je(e);\n    return E() || (t.width === 0 && await Fe(e.postEvent, { timeout: 1e3 }).then((s) => t = s).catch((s) => D.error(\"Unable to sync viewport state\", s)), t.listen()), t;\n  }\n);\nfunction m(e, t) {\n  document.documentElement.style.setProperty(e, t);\n}\nfunction Es(e, t, s) {\n  s || (s = (a) => `--tg-${a}-color`);\n  const n = s(\"header\"), r = s(\"bg\"), i = () => {\n    const { headerColor: a } = e;\n    if (Y(a))\n      m(n, a);\n    else {\n      const { bgColor: p, secondaryBgColor: d } = t;\n      a === \"bg_color\" && p ? m(n, p) : a === \"secondary_bg_color\" && d && m(n, d);\n    }\n    m(r, e.bgColor);\n  }, o = [\n    t.on(\"change\", i),\n    e.on(\"change\", i)\n  ];\n  return i(), () => o.forEach((a) => a());\n}\nfunction Ps(e, t) {\n  t || (t = (n) => `--tg-theme-${n.replace(/[A-Z]/g, (r) => `-${r.toLowerCase()}`)}`);\n  const s = () => {\n    Object.entries(e.getState()).forEach(([n, r]) => {\n      r && m(t(n), r);\n    });\n  };\n  return s(), e.on(\"change\", s);\n}\nfunction Ss(e, t) {\n  t || (t = (d) => `--tg-viewport-${d}`);\n  const [\n    s,\n    n,\n    r\n  ] = [\"height\", \"width\", \"stable-height\"].map((d) => t(d)), i = () => m(s, `${e.height}px`), o = () => m(n, `${e.width}px`), a = () => m(r, `${e.stableHeight}px`), p = [\n    e.on(\"change:height\", i),\n    e.on(\"change:width\", o),\n    e.on(\"change:stableHeight\", a)\n  ];\n  return i(), o(), a(), () => p.forEach((d) => d());\n}\nfunction xs(e = !0) {\n  const t = [\n    b(\"reload_iframe\", () => {\n      T(\"iframe_will_reload\"), window.location.reload();\n    })\n  ], s = () => t.forEach((n) => n());\n  if (e) {\n    const n = document.createElement(\"style\");\n    n.id = \"telegram-custom-styles\", document.head.appendChild(n), t.push(\n      b(\"set_custom_style\", (r) => {\n        n.innerHTML = r;\n      }),\n      () => document.head.removeChild(n)\n    );\n  }\n  return T(\"iframe_ready\", { reload_supported: !0 }), s;\n}\nasync function Rs() {\n  if (_t(window))\n    return !0;\n  try {\n    return await f({ method: \"web_app_request_theme\", event: \"theme_changed\", timeout: 100 }), !0;\n  } catch {\n    return !1;\n  }\n}\nfunction Qe(e) {\n  return e instanceof $;\n}\nfunction Cs(e, t) {\n  return Qe(e) && e.type === t;\n}\nfunction O(e, t) {\n  let s, n, r;\n  return typeof e == \"string\" ? s = e : (s = e.pathname === void 0 ? t : e.pathname, n = e.params, r = e.id), Object.freeze({\n    id: r || (Math.random() * 2 ** 14 | 0).toString(16),\n    pathname: s,\n    params: n\n  });\n}\nclass Ye {\n  constructor(t, s, n = T) {\n    /**\n     * Navigation history.\n     */\n    c(this, \"history\");\n    c(this, \"ee\", new V());\n    /**\n     * True, if current navigator is currently attached.\n     */\n    c(this, \"attached\", !1);\n    /**\n     * Goes to the previous history item.\n     */\n    c(this, \"back\", () => this.go(-1));\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    if (this._index = s, this.postEvent = n, t.length === 0)\n      throw u(Qt, \"History should not be empty.\");\n    if (s < 0 || s >= t.length)\n      throw u(\n        Yt,\n        \"Index should not be zero and higher or equal than history size.\"\n      );\n    this.history = t.map((r) => O(r, \"\"));\n  }\n  /**\n   * Allows this navigator to control the `BackButton` visibility state. It also tracks the\n   * `BackButton` clicks and calls the `back` method.\n   */\n  attach() {\n    this.attached || (this.attached = !0, this.sync(), b(\"back_button_pressed\", this.back));\n  }\n  /**\n   * Currently active history item.\n   */\n  get current() {\n    return this.history[this.index];\n  }\n  /**\n   * Prevents current navigator from controlling the BackButton visibility state.\n   */\n  detach() {\n    this.attached = !1, B(\"back_button_pressed\", this.back);\n  }\n  /**\n   * Goes to the next history item.\n   */\n  forward() {\n    this.go(1);\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(t, s) {\n    const n = this.index + t, r = Math.min(\n      Math.max(0, n),\n      this.history.length - 1\n    );\n    (n === r || s) && this.replaceAndMove(r, this.history[r]);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(t, s) {\n    this.go(t - this.index, s);\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.index > 0;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.index !== this.history.length - 1;\n  }\n  /**\n   * Currently active history item index.\n   */\n  get index() {\n    return this._index;\n  }\n  /**\n   * Adds a new history item removing all after the current one.\n   * @param item - item to add.\n   */\n  push(t) {\n    this.hasNext && this.history.splice(this.index + 1), this.replaceAndMove(this.index + 1, O(t, this.current.pathname));\n  }\n  /**\n   * Replaces the current history item.\n   * @param item - item to replace the current item with.\n   */\n  replace(t) {\n    this.replaceAndMove(this.index, O(t, this.current.pathname));\n  }\n  /**\n   * Sets history item by the specified index.\n   * @param index - history item index to replace.\n   * @param historyItem - history item to set.\n   */\n  replaceAndMove(t, s) {\n    const n = t - this.index;\n    if (!n && this.current === s)\n      return;\n    const r = this.current;\n    if (this.index !== t) {\n      const i = this._index;\n      this._index = t, this.attached && i > 0 != t > 0 && this.sync();\n    }\n    this.history[t] = s, this.ee.emit(\"change\", {\n      navigator: this,\n      from: r,\n      to: this.current,\n      delta: n\n    });\n  }\n  /**\n   * Actualizes the `BackButton` visibility state.\n   */\n  sync() {\n    this.postEvent(\"web_app_setup_back_button\", { is_visible: !!this.index });\n  }\n}\nfunction U({\n  params: e,\n  ...t\n}) {\n  return { ...e || { hash: \"\", search: \"\" }, ...t };\n}\nfunction A(e, t) {\n  return e.startsWith(t) ? e : `${t}${e}`;\n}\nfunction k(e) {\n  return new URL(\n    typeof e == \"string\" ? e : `${e.pathname || \"\"}${A(e.search || \"\", \"?\")}${A(e.hash || \"\", \"#\")}`,\n    \"http://a\"\n  );\n}\nfunction N(e) {\n  const t = typeof e == \"string\" ? e.startsWith(\"/\") : !!(e.pathname && e.pathname.startsWith(\"/\")), s = k(e);\n  return `${t ? s.pathname : s.pathname.slice(1)}${s.search}${s.hash}`;\n}\nfunction W(e, t, s) {\n  let n, r;\n  typeof e == \"string\" ? n = e : (n = N(e), s = e.state, r = e.id);\n  const { pathname: i, search: o, hash: a } = new URL(n, `http://a${A(t, \"/\")}`);\n  return { id: r, pathname: i, params: { hash: a, search: o, state: s } };\n}\nasync function C(e) {\n  return e === 0 ? !0 : Promise.race([\n    new Promise((t) => {\n      const s = z(\"popstate\", () => {\n        s(), t(!0);\n      });\n      window.history.go(e);\n    }),\n    // Usually, it takes about 1ms to emit this event, but we use some buffer.\n    new Promise((t) => {\n      setTimeout(t, 50, !1);\n    })\n  ]);\n}\nasync function Ze() {\n  if (window.history.length <= 1 || (window.history.pushState(null, \"\"), await C(1 - window.history.length)))\n    return;\n  let t = await C(-1);\n  for (; t; )\n    t = await C(-1);\n}\nfunction $t(e) {\n  return k(e).pathname;\n}\nconst at = 0, H = 1, G = 2;\nclass Mt {\n  constructor(t, s, { postEvent: n, hashMode: r, base: i } = {}) {\n    c(this, \"navigator\");\n    c(this, \"ee\", new V());\n    c(this, \"hashMode\");\n    c(this, \"base\");\n    /**\n     * Shows whether the navigator is currently attached to the browser history.\n     */\n    c(this, \"attached\", !1);\n    /**\n     * Handles the window \"popstate\" event.\n     * @param state - event state.\n     */\n    c(this, \"onPopState\", ({ state: t }) => {\n      if (t === null)\n        return this.push(this.parsePath(window.location.href));\n      t === at ? window.history.forward() : t === H && this.back(), t === G && this.forward();\n    });\n    /**\n     * Underlying navigator change event listener.\n     */\n    c(this, \"onNavigatorChange\", async ({\n      to: t,\n      from: s,\n      delta: n\n    }) => {\n      this.attached && await this.syncHistory(), this.ee.emit(\"change\", {\n        delta: n,\n        from: U(s),\n        to: U(t),\n        navigator: this\n      });\n    });\n    /**\n     * Adds new event listener.\n     */\n    c(this, \"on\", this.ee.on.bind(this.ee));\n    /**\n     * Removes event listener.\n     */\n    c(this, \"off\", this.ee.off.bind(this.ee));\n    this.navigator = new Ye(\n      t.map((o) => W(o, \"/\")),\n      s,\n      n\n    ), this.navigator.on(\"change\", this.onNavigatorChange), this.hashMode = r, this.base = $t(i || \"\");\n  }\n  /**\n   * Attaches current navigator to the browser history allowing navigator to manipulate it.\n   */\n  async attach() {\n    this.attached || (this.attached = !0, this.navigator.attach(), window.addEventListener(\"popstate\", this.onPopState), await this.syncHistory());\n  }\n  /**\n   * Goes back in history by 1.\n   */\n  back() {\n    this.navigator.back();\n  }\n  /**\n   * Detaches current navigator from the browser history.\n   */\n  detach() {\n    this.attached = !1, this.navigator.detach(), window.removeEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Goes forward in history.\n   */\n  forward() {\n    return this.navigator.forward();\n  }\n  /**\n   * Current history cursor.\n   */\n  get index() {\n    return this.navigator.index;\n  }\n  /**\n   * Current history item identifier.\n   */\n  get id() {\n    return this.navigator.current.id;\n  }\n  /**\n   * Changes currently active history item index by the specified delta. This method doesn't\n   * change index in case, the updated index points to the non-existing history item. This behavior\n   * is preserved until the `fit` argument is specified.\n   * @param delta - index delta.\n   * @param fit - cuts the delta argument to fit the bounds `[0, history.length - 1]`.\n   */\n  go(t, s) {\n    return this.navigator.go(t, s);\n  }\n  /**\n   * Goes to the specified index. Method does nothing in case, passed index is out of bounds.\n   *\n   * If \"fit\" option was specified and index is out of bounds, it will be cut to the nearest\n   * bound.\n   * @param index - target index.\n   * @param fit - cuts the index argument to fit the bounds `[0, history.length - 1]`.\n   */\n  goTo(t, s) {\n    this.navigator.goTo(t, s);\n  }\n  /**\n   * Current history item hash.\n   * @see URL.hash\n   * @example\n   * \"\", \"#my-hash\"\n   */\n  get hash() {\n    return (this.navigator.current.params || {}).hash || \"\";\n  }\n  /**\n   * True if navigator has items before the current item.\n   */\n  get hasPrev() {\n    return this.navigator.hasPrev;\n  }\n  /**\n   * True if navigator has items after the current item.\n   */\n  get hasNext() {\n    return this.navigator.hasNext;\n  }\n  /**\n   * Navigation history.\n   */\n  get history() {\n    return this.navigator.history.map(U);\n  }\n  /**\n   * Path, including pathname, search and hash.\n   * @example Pathname only.\n   * \"/pathname\"\n   * @example Pathname + search.\n   * \"/pathname?search\"\n   * @example Pathname + hash.\n   * \"/pathname#hash\"\n   * @example Pathname + search + hash.\n   * \"/pathname?search#hash\"\n   */\n  get path() {\n    return N(this);\n  }\n  /**\n   * Current pathname. Always starts with the slash.\n   * @see URL.pathname\n   * @example\n   * \"/\", \"/abc\"\n   */\n  get pathname() {\n    return this.navigator.current.pathname;\n  }\n  /**\n   * Depending on the current navigation type, parses incoming path and returns it presented as\n   * an object. In other words, this method parses the passed path and returns object, describing\n   * how the navigator \"sees\" it.\n   *\n   * @example Hash mode is omitted.\n   * parsePath('/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   * parsePath('http://example.com/abc?a=1#hash');\n   * // { pathname: '/abc', search: '?a=1', hash: '#hash' }\n   *\n   * @example Hash mode is enabled.\n   * parsePath('/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   * parsePath('http://example.com/abc?a=1#tma?is=cool#yeah');\n   * // { pathname: '/tma', search: '?is=cool', hash: '#yeah' }\n   */\n  parsePath(t) {\n    let s = k(t);\n    return this.hashMode && (s = k(s.hash.slice(1))), {\n      pathname: s.pathname,\n      search: s.search,\n      hash: s.hash\n    };\n  }\n  push(t, s) {\n    const n = W(t, this.path), { state: r = s } = n.params;\n    this.navigator.push({ ...n, params: { ...n.params, state: r } });\n  }\n  replace(t, s) {\n    const n = W(t, this.path), { state: r = s } = n.params;\n    this.navigator.replace({ ...n, params: { ...n.params, state: r } });\n  }\n  /**\n   * Combines the navigator `base` property with the passed path data applying the navigator\n   * navigation mode.\n   * @param value - path presented as string or URLLike.\n   */\n  renderPath(t) {\n    const s = (this.base.length === 1 ? \"\" : this.base) + A(N(t), \"/\");\n    return this.hashMode ? A(s.slice(1), this.hashMode === \"default\" ? \"#\" : \"#/\") : s;\n  }\n  /**\n   * Synchronizes current navigator state with browser history.\n   */\n  async syncHistory() {\n    window.removeEventListener(\"popstate\", this.onPopState);\n    const { state: t } = this, s = this.renderPath(this);\n    await Ze(), this.hasPrev && this.hasNext ? (window.history.replaceState(H, \"\"), window.history.pushState(t, \"\", s), window.history.pushState(G, \"\"), await C(-1)) : this.hasPrev ? (window.history.replaceState(H, \"\"), window.history.pushState(t, \"\", s)) : this.hasNext ? (window.history.replaceState(t, s), window.history.pushState(G, \"\"), await C(-1)) : (window.history.replaceState(at, \"\"), window.history.pushState(t, \"\", s)), window.addEventListener(\"popstate\", this.onPopState);\n  }\n  /**\n   * Current query parameters.\n   * @see URL.search\n   * @example\n   * \"\", \"?\", \"?a=1\"\n   */\n  get search() {\n    return (this.navigator.current.params || {}).search || \"\";\n  }\n  /**\n   * Current history item state.\n   */\n  get state() {\n    return (this.navigator.current.params || {}).state;\n  }\n}\nfunction Xe(e) {\n  e || (e = {});\n  const { href: t, hash: s } = window.location;\n  let n = N(\n    e.hashMode ? s.includes(\"?\") ? s.slice(1) : `?${s.slice(1)}` : t\n  );\n  const r = e.base ? $t(e.base) : void 0;\n  if (r) {\n    if (!n.startsWith(r))\n      throw u(\n        Xt,\n        `Path \"${n}\" expected to be starting with \"${r}\"`\n      );\n    n = n.slice(r.length);\n  }\n  return new Mt([n], 0, e);\n}\nfunction Ts(e) {\n  const t = e.match(/#(.+)/);\n  return t ? t[1] : null;\n}\nfunction Ke(e, t) {\n  if (It()) {\n    const s = sessionStorage.getItem(e);\n    if (s)\n      try {\n        const { index: n, history: r } = JSON.parse(s);\n        return new Mt(r, n, t);\n      } catch (n) {\n        console.error(\"Unable to restore hash navigator state.\", n);\n      }\n  }\n  return Xe(t);\n}\nfunction As(e, t) {\n  const s = Ke(e, t), n = () => sessionStorage.setItem(e, JSON.stringify({\n    index: s.index,\n    history: s.history\n  }));\n  return s.on(\"change\", n), n(), s;\n}\nexport {\n  fe as BackButton,\n  Ye as BasicNavigator,\n  it as BiometryManager,\n  Mt as BrowserNavigator,\n  Ae as ClosingBehavior,\n  Ne as CloudStorage,\n  Xt as ERR_INVALID_PATH_BASE,\n  zt as ERR_INVOKE_CUSTOM_METHOD_RESPONSE,\n  Gt as ERR_METHOD_PARAMETER_UNSUPPORTED,\n  Ht as ERR_METHOD_UNSUPPORTED,\n  Qt as ERR_NAVIGATION_HISTORY_EMPTY,\n  Yt as ERR_NAVIGATION_INDEX_INVALID,\n  ss as ERR_NAVIGATION_ITEM_INVALID,\n  pt as ERR_PARSE,\n  J as ERR_SSR_INIT,\n  Zt as ERR_SSR_POST_EVENT,\n  Ft as ERR_TIMED_OUT,\n  Jt as ERR_UNEXPECTED_TYPE,\n  jt as ERR_UNKNOWN_ENV,\n  V as EventEmitter,\n  De as HapticFeedback,\n  Ve as InitData,\n  $e as Invoice,\n  Me as MainButton,\n  Oe as MiniApp,\n  We as Popup,\n  He as QRScanner,\n  $ as SDKError,\n  Ge as SettingsButton,\n  je as ThemeParams,\n  ze as Utils,\n  Vt as Viewport,\n  ke as array,\n  Es as bindMiniAppCSSVars,\n  Ps as bindThemeParamsCSSVars,\n  Ss as bindViewportCSSVars,\n  w as boolean,\n  gt as captureSameReq,\n  F as classNames,\n  he as compareVersions,\n  Xe as createBrowserNavigatorFromLocation,\n  de as createPostEvent,\n  k as createSafeURL,\n  vt as date,\n  Ts as getHash,\n  $t as getPathname,\n  is as initBackButton,\n  os as initBiometryManager,\n  as as initClosingBehavior,\n  cs as initCloudStorage,\n  hs as initHapticFeedback,\n  ps as initInitData,\n  ls as initInvoice,\n  ds as initMainButton,\n  _s as initMiniApp,\n  As as initNavigator,\n  fs as initPopup,\n  gs as initQRScanner,\n  bs as initSettingsButton,\n  ws as initThemeParams,\n  ys as initUtils,\n  vs as initViewport,\n  xs as initWeb,\n  R as invokeCustomMethod,\n  mt as isColorDark,\n  ue as isIframe,\n  It as isPageReload,\n  Y as isRGB,\n  Kt as isRGBShort,\n  Qe as isSDKError,\n  Cs as isSDKErrorOfType,\n  E as isSSR,\n  Rs as isTMA,\n  _ as json,\n  rs as mergeClassNames,\n  y as number,\n  B as off,\n  b as on,\n  us as parseInitData,\n  St as parseLaunchParams,\n  Nt as parseThemeParams,\n  T as postEvent,\n  f as request,\n  Te as requestBiometryInfo,\n  ms as requestThemeParams,\n  Dt as requestViewport,\n  xe as retrieveLaunchParams,\n  dt as rgb,\n  K as searchParams,\n  Pe as serializeLaunchParams,\n  Ee as serializeThemeParams,\n  m as setCSSVar,\n  es as setDebug,\n  ns as setTargetOrigin,\n  h as string,\n  Ot as subscribe,\n  v as supports,\n  le as targetOrigin,\n  lt as toRGB,\n  ht as unsubscribe,\n  N as urlToPath,\n  wt as withTimeout\n};\n//# sourceMappingURL=index.js.map\n","import { type Component, mergeProps } from 'solid-js';\nimport type { PartialBy } from '@tma.js/sdk';\n\nimport type { Hook } from './createHook.js';\n\nexport interface HOC<H extends Hook<any>> {\n  <PropKey extends string, Props extends { [K in PropKey]: ReturnType<H> }>(\n    prop: PropKey,\n    Component: Component<Props>,\n    ...args: Parameters<H>\n  ): Component<PartialBy<Props, PropKey>>;\n}\n\n/**\n * Based on the passed hook, creates function returning HOC. Created HOC passes hook result\n * to the wrapped component.\n * @param hook - hook returning component.\n */\nexport function createHOC<H extends Hook<any>>(hook: H): HOC<H> {\n  return (prop, Component, ...args) => {\n    return (props) => {\n      return <Component {...mergeProps({ [prop]: hook(...args) }, props) as any}/>;\n    };\n  };\n}\n","import { createContext, useContext } from 'solid-js';\n\nimport type { SDKContextType } from './SDKProvider.types.js';\n\nexport const SDKContext = createContext<SDKContextType>();\n\n/**\n * @throws Error useSDK was used outside SDKProvider.\n * @returns Function to register a factory.\n */\nexport function useSDK(): SDKContextType {\n  const context = useContext(SDKContext);\n  if (!context) {\n    throw new Error('useSDK was used outside of SDKProvider.');\n  }\n  return context;\n}\n","import { AnyFn } from '@tma.js/sdk';\n\nimport { useSDK } from './SDKProvider/SDKContext.js';\nimport { SDKContextItem } from './SDKProvider/SDKProvider.types.js';\n\nexport interface Hook<Factory extends AnyFn> {\n  (...args: Parameters<Factory>): SDKContextItem<Factory>;\n}\n\n/**\n * Creates new hook, which firstly attempts to extract a value from the SDK context. In case,\n * value is missing, it uses the passed component factory, creates a component, subscribes\n * to its changes if required, and returns its reactive copy.\n * @param fn\n */\nexport function createHook<Fn extends AnyFn>(fn: Fn): Hook<Fn> {\n  return (...args) => useSDK()(fn, ...args);\n}\n","import { initBackButton } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the BackButton component instance.\n */\nexport const useBackButton = createHook(initBackButton);\n\n/**\n * HOC to pass the BackButton component instance to the wrapped component.\n */\nexport const withBackButton = createHOC(useBackButton);\n","import { initBiometryManager } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the BiometryManager component instance.\n */\nexport const useBiometryManager = createHook(initBiometryManager);\n\n/**\n * HOC to pass the BiometryManager component instance to the wrapped component.\n */\nexport const withBiometryManager = createHOC(useBiometryManager);\n","import { initClosingBehavior } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the ClosingBehavior component instance.\n */\nexport const useClosingBehavior = createHook(initClosingBehavior);\n\n/**\n * HOC to pass the ClosingBehavior component instance to the wrapped component.\n */\nexport const withClosingBehavior = createHOC(useClosingBehavior);\n","import { initCloudStorage } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the CloudStorage component instance.\n */\nexport const useCloudStorage = createHook(initCloudStorage);\n\n/**\n * HOC to pass the CloudStorage component instance to the wrapped component.\n */\nexport const withCloudStorage = createHOC(useCloudStorage);\n","import { initHapticFeedback } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the HapticFeedback component instance.\n */\nexport const useHapticFeedback = createHook(initHapticFeedback);\n\n/**\n * HOC to pass the HapticFeedback component instance to the wrapped component.\n */\nexport const withHapticFeedback = createHOC(useHapticFeedback);\n","import { initInitData } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the InitData component instance.\n */\nexport const useInitData = createHook(initInitData);\n\n/**\n * HOC to pass the InitData component instance to the wrapped component.\n */\nexport const withInitData = createHOC(useInitData);\n","import { initInvoice } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the Invoice component instance.\n */\nexport const useInvoice = createHook(initInvoice);\n\n/**\n * HOC to pass the Invoice component instance to the wrapped component.\n */\nexport const withInvoice = createHOC(useInvoice);\n","import { initMainButton } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the MainButton component instance.\n */\nexport const useMainButton = createHook(initMainButton);\n\n/**\n * HOC to pass the MainButton component instance to the wrapped component.\n */\nexport const withMainButton = createHOC(useMainButton);\n","import { initMiniApp } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the MiniApp component instance.\n */\nexport const useMiniApp = createHook(initMiniApp);\n\n/**\n * HOC to pass the MiniApp component instance to the wrapped component.\n */\nexport const withMiniApp = createHOC(useMiniApp);\n","import { initPopup } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the Popup component instance.\n */\nexport const usePopup = createHook(initPopup);\n\n/**\n * HOC to pass the Popup component instance to the wrapped component.\n */\nexport const withPopup = createHOC(usePopup);\n","import { initQRScanner } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the QRScanner component instance.\n */\nexport const useQRScanner = createHook(initQRScanner);\n\n/**\n * HOC to pass the QRScanner component instance to the wrapped component.\n */\nexport const withQRScanner = createHOC(useQRScanner);\n","import { initSettingsButton } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the SettingsButton component instance.\n */\nexport const useSettingsButton = createHook(initSettingsButton);\n\n/**\n * HOC to pass the SettingsButton component instance to the wrapped component.\n */\nexport const withSettingsButton = createHOC(useSettingsButton);\n","import { initThemeParams } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the ThemeParams component instance.\n */\nexport const useThemeParams = createHook(initThemeParams);\n\n/**\n * HOC to pass the ThemeParams component instance to the wrapped component.\n */\nexport const withThemeParams = createHOC(useThemeParams);\n","import { initUtils } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the Utils component instance.\n */\nexport const useUtils = createHook(initUtils);\n\n/**\n * HOC to pass the Utils component instance to the wrapped component.\n */\nexport const withUtils = createHOC(useUtils);\n","import { initViewport } from '@tma.js/sdk';\n\nimport { createHOC } from '../createHOC.js';\nimport { createHook } from '../createHook.js';\n\n/**\n * Hook to receive the Viewport component instance.\n */\nexport const useViewport = createHook(initViewport);\n\n/**\n * HOC to pass the Viewport component instance to the wrapped component.\n */\nexport const withViewport = createHOC(useViewport);\n","import { AnyFn, initWeb, isIframe, setDebug } from '@tma.js/sdk';\nimport {\n  Accessor,\n  type Component,\n  createEffect,\n  createMemo,\n  createResource,\n  from,\n  onCleanup,\n} from 'solid-js';\n\nimport { SDKContext } from './SDKContext.js';\nimport {\n  SDKContextItem,\n  SDKContextType,\n  SDKProviderProps,\n} from './SDKProvider.types.js';\n\n/**\n * Provides access to SDK components and initializes some event listeners for the web version\n * of Telegram.\n */\nexport const SDKProvider: Component<SDKProviderProps> = (props) => {\n  const cache = new Map<AnyFn, SDKContextItem<AnyFn>>();\n\n  const use: SDKContextType = (factory, ...args) => {\n    // SDK context already has this value.\n    if (cache.has(factory)) {\n      return cache.get(factory)!;\n    }\n\n    // We are creating a resource as long as factory can sometimes return promise. For example,\n    // this may happen in case, factory initializes BiometryManager or Viewport.\n    const [resource] = createResource(() => {\n      try {\n        return factory(...args);\n      } catch (e) {\n        // Solid can't normally handle errors in a sync way. We need an error to be handled in\n        // the first frame and this was the only 1 way of doing it I found.\n        return [e];\n      }\n    });\n\n    // Signal, which returns computed resource value.\n    const getResource = createMemo(() => {\n      // Something went wrong, return an error.\n      if (resource.error) {\n        return [resource.error];\n      }\n\n      // The resource is loading, return nothing. This usually happens when the factory is async.\n      if (resource.state !== 'ready') {\n        return;\n      }\n\n      // Get a value, stored in the resource and check if it ended up with an error.\n      const value = resource();\n      if (Array.isArray(value)) {\n        return value;\n      }\n\n      // Factory may return undefined if it creates the InitData component, for example.\n      // The returned component may also not allow tracking its changes. It means, it cannot\n      // be reactive, we just this values as is.\n      if (!value || !('on' in value)) {\n        return value;\n      }\n\n      // Otherwise, we are making value reactive and track its changes.\n      const get = from((set) => {\n        set(value);\n        return value.on('change', () => set(value));\n      });\n\n      // We use this value to retrieve properties having getters. We assume, that if property has\n      // a getter, it must be reactive.\n      // NOTE: Yeah, it looks horrible, but I had no other way of doing this.\n      const prototype = Object.getPrototypeOf(value);\n\n      // Cache with already defined signals.\n      const propCache: Record<string | symbol, Accessor<any>> = {};\n\n      return new Proxy(value, {\n        get(target: any, property: string | symbol): any {\n          if (!(property in propCache)) {\n            const descriptor = Reflect.getOwnPropertyDescriptor(prototype, property);\n\n            // We receive descriptor, describing this property and check if it has getter. In\n            // case it does, we must make it reactive. Otherwise, we return real value behind\n            // this property.\n            propCache[property] = descriptor && ('get' in descriptor)\n              ? createMemo(() => (get() as any)[property])\n              : () => Reflect.get(target, property);\n          }\n          return propCache[property]();\n        },\n      });\n    });\n\n    // Define accessor.\n    function read() {\n      const v = getResource();\n      if (Array.isArray(v)) {\n        throw v[0];\n      }\n      return v;\n    }\n\n    // Define accessor \"error\" property.\n    Object.defineProperty(read, 'error', {\n      get() {\n        const v = getResource();\n        return Array.isArray(v) ? v[0] : undefined;\n      },\n    });\n\n    cache.set(factory, read);\n\n    return read;\n  }\n\n  // Effect, responsible for debug mode.\n  createEffect(() => {\n    setDebug(props.debug || false);\n  });\n\n  // Effect, responsible for initializing the app in the web version of Telegram.\n  createEffect(() => {\n    if (isIframe()) {\n      onCleanup(initWeb(props.acceptCustomStyles));\n    }\n  });\n\n  return <SDKContext.Provider value={use}>{props.children}</SDKContext.Provider>;\n};\n"],"names":["Lt","Bt","ct","ht","L","ce","Ot","Ut","D","j","nt","es","Wt","V","r","i","z","$","u","Ht","Gt","jt","zt","Ft","Jt","pt","Qt","Yt","ss","J","Zt","Xt","P","M","S","w","ut","Q","_","y","Y","Kt","lt","h","dt","te","ee","se","ne","re","ie","oe","ae","B","I","he","g","v","pe","_t","ue","ft","ns","le","T","de","gt","bt","wt","f","d","p","st","R","F","rs","mt","_e","o","Z","yt","X","s","n","fe","E","vt","K","ge","rt","Et","be","we","Pt","St","xt","me","Rt","ye","Ct","Tt","At","ve","Ee","Pe","Se","xe","It","Re","Ce","is","q","qt","it","Te","os","tt","Ae","as","et","Ie","qe","ke","ot","Ne","cs","De","hs","Ve","ps","us","$e","ls","Me","ds","Le","kt","Be","Oe","a","_s","Ue","We","fs","He","gs","Ge","Nt","je","ws","ms","ze","ys","Dt","x","Vt","Fe","Je","vs","m","Es","Ps","Ss","xs","Rs","Qe","Cs","O","Ye","U","A","k","N","W","C","Ze","t","$t","at","H","G","Mt","Xe","Ts","Ke","As","createHOC","hook","prop","Component","args","props","_$createComponent","_$mergeProps","mergeProps","SDKContext","createContext","useSDK","context","useContext","createHook","fn","useBackButton","initBackButton","withBackButton","useBiometryManager","initBiometryManager","withBiometryManager","useClosingBehavior","initClosingBehavior","withClosingBehavior","useCloudStorage","initCloudStorage","withCloudStorage","useHapticFeedback","initHapticFeedback","withHapticFeedback","useInitData","initInitData","withInitData","useInvoice","initInvoice","withInvoice","useMainButton","initMainButton","withMainButton","useMiniApp","initMiniApp","withMiniApp","usePopup","initPopup","withPopup","useQRScanner","initQRScanner","withQRScanner","useSettingsButton","initSettingsButton","withSettingsButton","useThemeParams","initThemeParams","withThemeParams","useUtils","initUtils","withUtils","useViewport","initViewport","withViewport","SDKProvider","cache","Map","use","factory","has","get","resource","createResource","e","getResource","createMemo","error","state","value","Array","isArray","from","set","on","prototype","Object","getPrototypeOf","propCache","Proxy","target","property","descriptor","Reflect","getOwnPropertyDescriptor","read","defineProperty","undefined","createEffect","debug","isIframe","initWeb","acceptCustomStyles","Provider","children"],"mappings":"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"}